/*! For license information please see 431.1c43b150.js.LICENSE.txt */
(self.webpackChunk_web_site=self.webpackChunk_web_site||[]).push([["431"],{95766:function(e,t,n){"use strict";var r=n("2363"),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s(function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})},[e,n,t]),o(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},99496:function(e,t,n){"use strict";var r=n("2363"),i=n("10746"),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=o(e,(d=u(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,i]))[0],d[1]);return l(function(){f.hasValue=!0,f.value=h},[h]),c(h),h}},10746:function(e,t,n){"use strict";e.exports=n("95766")},4752:function(e,t,n){"use strict";e.exports=n("99496")},19656:function(e,t,n){"use strict";n.r(t);var r=n("9482");n.es(r,t)},61734:function(e,t,n){"use strict";n.r(t);var r=n("19656");n.es(r,t)},67940:function(e,t,n){"use strict";n.r(t),n.d(t,{Background:function(){return p}});var r,i=n("2363"),a=n("98774"),o=n("87652"),s=n("51263");function l({color:e,dimensions:t,lineWidth:n}){return i.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function u({color:e,radius:t}){return i.createElement("circle",{cx:t,cy:t,r:t,fill:e})}(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(r||(r={}));let c={[r.Dots]:"#91919a",[r.Lines]:"#eee",[r.Cross]:"#e2e2e2"},d={[r.Dots]:1,[r.Lines]:1,[r.Cross]:6},f=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function h({id:e,variant:t=r.Dots,gap:n=20,size:h,lineWidth:p=1,offset:m=2,color:g,style:y,className:v}){let _=(0,i.useRef)(null),{transform:b,patternId:x}=(0,o.useStore)(f,s.shallow),w=g||c[t],S=h||d[t],E=t===r.Dots,k=t===r.Cross,N=Array.isArray(n)?n:[n,n],C=[N[0]*b[2]||1,N[1]*b[2]||1],M=S*b[2],T=k?[M,M]:C,A=E?[M/m,M/m]:[T[0]/m,T[1]/m];return i.createElement("svg",{className:(0,a.default)(["react-flow__background",v]),style:{...y,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:_,"data-testid":"rf__background"},i.createElement("pattern",{id:x+e,x:b[0]%C[0],y:b[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`},E?i.createElement(u,{color:w,radius:M/m}):i.createElement(l,{dimensions:T,color:w,lineWidth:p})),i.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${x+e})`}))}h.displayName="Background";var p=(0,i.memo)(h)},53139:function(e,t,n){"use strict";n.r(t),n.d(t,{Controls:function(){return m}});var r=n("2363"),i=n("98774"),a=n("51263"),o=n("87652");function s(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function l(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},r.createElement("path",{d:"M0 0h32v4.2H0z"}))}function u(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},r.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function c(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function d(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}let f=({children:e,className:t,...n})=>r.createElement("button",{type:"button",className:(0,i.default)(["react-flow__controls-button",t]),...n},e);f.displayName="ControlButton";let h=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),p=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:p=!0,fitViewOptions:m,onZoomIn:g,onZoomOut:y,onFitView:v,onInteractiveChange:_,className:b,children:x,position:w="bottom-left"})=>{let S=(0,o.useStoreApi)(),[E,k]=(0,r.useState)(!1),{isInteractive:N,minZoomReached:C,maxZoomReached:M}=(0,o.useStore)(h,a.shallow),{zoomIn:T,zoomOut:A,fitView:O}=(0,o.useReactFlow)();return((0,r.useEffect)(()=>{k(!0)},[]),E)?r.createElement(o.Panel,{className:(0,i.default)(["react-flow__controls",b]),position:w,style:e,"data-testid":"rf__controls"},t&&r.createElement(r.Fragment,null,r.createElement(f,{onClick:()=>{T(),g?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:M},r.createElement(s,null)),r.createElement(f,{onClick:()=>{A(),y?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:C},r.createElement(l,null))),n&&r.createElement(f,{className:"react-flow__controls-fitview",onClick:()=>{O(m),v?.()},title:"fit view","aria-label":"fit view"},r.createElement(u,null)),p&&r.createElement(f,{className:"react-flow__controls-interactive",onClick:()=>{S.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),_?.(!N)},title:"toggle interactivity","aria-label":"toggle interactivity"},N?r.createElement(d,null):r.createElement(c,null)),x):null};p.displayName="Controls";var m=(0,r.memo)(p)},87652:function(e,t,n){"use strict";n.r(t),n.d(t,{Panel:function(){return S},Position:function(){return l},ReactFlow:function(){return nM},useReactFlow:function(){return tc},useStore:function(){return b},useStoreApi:function(){return x}});var r,i,a,o,s,l,u=n("2363"),c=n("98774"),d=n("28502"),f=n("51263"),h=n("29106"),p=n("41704"),m=n("7081");n("61850");let g=(0,u.createContext)(null),y=g.Provider,v={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},_=v.error001();function b(e,t){let n=(0,u.useContext)(g);if(null===n)throw Error(_);return(0,d.useStoreWithEqualityFn)(n,e,t)}let x=()=>{let e=(0,u.useContext)(g);if(null===e)throw Error(_);return(0,u.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},w=e=>e.userSelectionActive?"none":"all";function S({position:e,children:t,className:n,style:r,...i}){let a=b(w),o=`${e}`.split("-");return u.createElement("div",{className:(0,c.default)(["react-flow__panel",n,...o]),style:{...r,pointerEvents:a},...i},t)}function E({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:u.createElement(S,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},u.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var k=(0,u.memo)(({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:o=[2,4],labelBgBorderRadius:s=2,children:l,className:d,...f})=>{let h=(0,u.useRef)(null),[p,m]=(0,u.useState)({x:0,y:0,width:0,height:0}),g=(0,c.default)(["react-flow__edge-textwrapper",d]);return((0,u.useEffect)(()=>{if(h.current){let e=h.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}},[n]),void 0!==n&&n)?u.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:g,visibility:p.width?"visible":"hidden",...f},i&&u.createElement("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:a,rx:s,ry:s}),u.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:r},n),l):null});let N=e=>({width:e.offsetWidth,height:e.offsetHeight}),C=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),M=(e={x:0,y:0},t)=>({x:C(e.x,t[0][0],t[1][0]),y:C(e.y,t[0][1],t[1][1])}),T=(e,t,n)=>e<t?C(Math.abs(e-t),1,50)/50:e>n?-C(Math.abs(e-n),1,50)/50:0,A=(e,t)=>{let n=20*T(e.x,35,t.width-35);return[n,20*T(e.y,35,t.height-35)]},O=e=>e.getRootNode?.()||window?.document,I=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),P=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),$=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Z=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),z=(e,t)=>{let n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x));return Math.ceil(n*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y)))},R=e=>D(e.width)&&D(e.height)&&D(e.x)&&D(e.y),D=e=>!isNaN(e)&&isFinite(e),j=Symbol.for("internals"),L=["Enter"," ","Escape"],B=(e,t)=>{},V=e=>"nativeEvent"in e;function H(e){let t=V(e)?e.nativeEvent:e,n=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}let F=e=>"clientX"in e,U=(e,t)=>{let n=F(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},K=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,Y=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h,interactionWidth:p=20})=>u.createElement(u.Fragment,null,u.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&u.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&D(n)&&D(r)?u.createElement(k,{x:n,y:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null);function X(e,t,n){return void 0===n?n:r=>{let i=t().edges.find(t=>t.id===e);i&&n(r,{...i})}}function q({sourceX:e,sourceY:t,targetX:n,targetY:r}){let i=Math.abs(n-e)/2,a=Math.abs(r-t)/2;return[n<e?n+i:n-i,r<t?r+a:r-a,i,a]}function W({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:o,targetControlY:s}){let l=.125*e+.375*i+.375*o+.125*n,u=.125*t+.375*a+.375*s+.125*r;return[l,u,Math.abs(l-e),Math.abs(u-t)]}function G({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===l.Left||e===l.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function J({sourceX:e,sourceY:t,sourcePosition:n=l.Bottom,targetX:r,targetY:i,targetPosition:a=l.Top}){let[o,s]=G({pos:n,x1:e,y1:t,x2:r,y2:i}),[u,c]=G({pos:a,x1:r,y1:i,x2:e,y2:t}),[d,f,h,p]=W({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:u,targetControlY:c});return[`M${e},${t} C${o},${s} ${u},${c} ${r},${i}`,d,f,h,p]}Y.displayName="BaseEdge",function(e){e.Strict="strict",e.Loose="loose"}(r||(r={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(i||(i={})),function(e){e.Partial="partial",e.Full="full"}(a||(a={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(o||(o={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(s||(s={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(l||(l={}));let Q=(0,u.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=l.Bottom,targetPosition:a=l.Top,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:g,interactionWidth:y})=>{let[v,_,b]=J({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a});return u.createElement(Y,{path:v,labelX:_,labelY:b,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:g,interactionWidth:y})});Q.displayName="SimpleBezierEdge";let ee={[l.Left]:{x:-1,y:0},[l.Right]:{x:1,y:0},[l.Top]:{x:0,y:-1},[l.Bottom]:{x:0,y:1}},et=({source:e,sourcePosition:t=l.Bottom,target:n})=>t===l.Left||t===l.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},en=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function er({sourceX:e,sourceY:t,sourcePosition:n=l.Bottom,targetX:r,targetY:i,targetPosition:a=l.Top,borderRadius:o=5,centerX:s,centerY:u,offset:c=20}){let[d,f,h,p,m]=function({source:e,sourcePosition:t=l.Bottom,target:n,targetPosition:r=l.Top,center:i,offset:a}){let o,s;let u=ee[t],c=ee[r],d={x:e.x+u.x*a,y:e.y+u.y*a},f={x:n.x+c.x*a,y:n.y+c.y*a},h=et({source:d,sourcePosition:t,target:f}),p=0!==h.x?"x":"y",m=h[p],g=[],y={x:0,y:0},v={x:0,y:0},[_,b,x,w]=q({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[p]*c[p]==-1){o=i.x||_,s=i.y||b;let e=[{x:o,y:d.y},{x:o,y:f.y}],t=[{x:d.x,y:s},{x:f.x,y:s}];g=u[p]===m?"x"===p?e:t:"x"===p?t:e}else{let i=[{x:d.x,y:f.y}],l=[{x:f.x,y:d.y}];if(g="x"===p?u.x===m?l:i:u.y===m?i:l,t===r){let t=Math.abs(e[p]-n[p]);if(t<=a){let r=Math.min(a-1,a-t);u[p]===m?y[p]=(d[p]>e[p]?-1:1)*r:v[p]=(f[p]>n[p]?-1:1)*r}}if(t!==r){let e="x"===p?"y":"x",t=u[p]===c[e],n=d[e]>f[e],r=d[e]<f[e];(1===u[p]&&(!t&&n||t&&r)||1!==u[p]&&(!t&&r||t&&n))&&(g="x"===p?i:l)}let h={x:d.x+y.x,y:d.y+y.y},_={x:f.x+v.x,y:f.y+v.y},b=Math.max(Math.abs(h.x-g[0].x),Math.abs(_.x-g[0].x));b>=Math.max(Math.abs(h.y-g[0].y),Math.abs(_.y-g[0].y))?(o=(h.x+_.x)/2,s=g[0].y):(o=g[0].x,s=(h.y+_.y)/2)}return[[e,{x:d.x+y.x,y:d.y+y.y},...g,{x:f.x+v.x,y:f.y+v.y},n],o,s,x,w]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:a,center:{x:s,y:u},offset:c});return[d.reduce((e,t,n)=>{let r="";return e+=r=n>0&&n<d.length-1?function(e,t,n,r){let i=Math.min(en(e,t)/2,en(t,n)/2,r),{x:a,y:o}=t;if(e.x===a&&a===n.x||e.y===o&&o===n.y)return`L${a} ${o}`;if(e.y===o){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return`L ${a+i*t},${o}Q ${a},${o} ${a},${o+i*r}`}let s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${a},${o+i*l}Q ${a},${o} ${a+i*s},${o}`}(d[n-1],t,d[n+1],o):`${0===n?"M":"L"}${t.x} ${t.y}`},""),f,h,p,m]}let ei=(0,u.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:d,style:f,sourcePosition:h=l.Bottom,targetPosition:p=l.Top,markerEnd:m,markerStart:g,pathOptions:y,interactionWidth:v})=>{let[_,b,x]=er({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:p,borderRadius:y?.borderRadius,offset:y?.offset});return u.createElement(Y,{path:_,labelX:b,labelY:x,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:g,interactionWidth:v})});ei.displayName="SmoothStepEdge";let ea=(0,u.memo)(e=>u.createElement(ei,{...e,pathOptions:(0,u.useMemo)(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));ea.displayName="StepEdge";let eo=(0,u.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h,interactionWidth:p})=>{let[m,g,y]=function({sourceX:e,sourceY:t,targetX:n,targetY:r}){let[i,a,o,s]=q({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,a,o,s]}({sourceX:e,sourceY:t,targetX:n,targetY:r});return u.createElement(Y,{path:m,labelX:g,labelY:y,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h,interactionWidth:p})});function es(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function el({pos:e,x1:t,y1:n,x2:r,y2:i,c:a}){switch(e){case l.Left:return[t-es(t-r,a),n];case l.Right:return[t+es(r-t,a),n];case l.Top:return[t,n-es(n-i,a)];case l.Bottom:return[t,n+es(i-n,a)]}}function eu({sourceX:e,sourceY:t,sourcePosition:n=l.Bottom,targetX:r,targetY:i,targetPosition:a=l.Top,curvature:o=.25}){let[s,u]=el({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[c,d]=el({pos:a,x1:r,y1:i,x2:e,y2:t,c:o}),[f,h,p,m]=W({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${s},${u} ${c},${d} ${r},${i}`,f,h,p,m]}eo.displayName="StraightEdge";let ec=(0,u.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=l.Bottom,targetPosition:a=l.Top,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:g,pathOptions:y,interactionWidth:v})=>{let[_,b,x]=eu({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a,curvature:y?.curvature});return u.createElement(Y,{path:_,labelX:b,labelY:x,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:g,interactionWidth:v})});ec.displayName="BezierEdge";let ed=(0,u.createContext)(null),ef=ed.Provider;ed.Consumer;let eh=()=>(0,u.useContext)(ed),ep=e=>"id"in e&&"source"in e&&"target"in e,em=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,eg=(e,t)=>{if(void 0===e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`},ey=(e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),ev=(e,t)=>{let n;return e.source&&e.target?ey(n=ep(e)?{...e}:{...e,id:em(e)},t)?t:t.concat(n):(B("006",v.error006()),t)},e_=({x:e,y:t},[n,r,i],a,[o,s])=>{let l={x:(e-n)/i,y:(t-r)/i};return a?{x:o*Math.round(l.x/o),y:s*Math.round(l.y/s)}:l},eb=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),ex=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};let n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},ew=(e,t=[0,0])=>0===e.length?{x:0,y:0,width:0,height:0}:$(e.reduce((e,n)=>{let{x:r,y:i}=ex(n,t).positionAbsolute;return I(e,P({x:r,y:i,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),eS=(e,t,[n,r,i]=[0,0,1],a=!1,o=!1,s=[0,0])=>{let l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(e=>{let{width:t,height:n,selectable:r=!0,hidden:i=!1}=e;if(o&&!r||i)return!1;let{positionAbsolute:c}=ex(e,s),d=z(l,{x:c.x,y:c.y,width:t||0,height:n||0}),f=void 0===t||void 0===n||null===t||null===n,h=(t||0)*(n||0);(f||a&&d>0||d>=h||e.dragging)&&u.push(e)}),u},eE=(e,t)=>{let n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},ek=(e,t,n,r,i,a=.1)=>{let o=t/(e.width*(1+a)),s=n/(e.height*(1+a)),l=C(Math.min(o,s),r,i),u=e.x+e.width/2,c=e.y+e.height/2;return{x:t/2-u*l,y:n/2-c*l,zoom:l}},eN=(e,t=0)=>e.transition().duration(t);function eC(e,t,n,r){return(t[n]||[]).reduce((t,i)=>(`${e.id}-${i.id}-${n}`!==r&&t.push({id:i.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+i.x+i.width/2,y:(e.positionAbsolute?.y??0)+i.y+i.height/2}),t),[])}let eM={source:null,target:null,sourceHandle:null,targetHandle:null},eT=()=>({handleDomNode:null,isValid:!1,connection:eM,endHandle:null});function eA(e,t,n,i,a,o,s){let l="target"===a,u=s.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),c={...eT(),handleDomNode:u};if(u){let e=eO(void 0,u),a=u.getAttribute("data-nodeid"),s=u.getAttribute("data-handleid"),d=u.classList.contains("connectable"),f=u.classList.contains("connectableend"),h={source:l?a:n,sourceHandle:l?s:i,target:l?n:a,targetHandle:l?i:s};c.connection=h;d&&f&&(t===r.Strict?l&&"source"===e||!l&&"target"===e:a!==n||s!==i)&&(c.endHandle={nodeId:a,handleId:s,type:e},c.isValid=o(h))}return c}function eO(e,t){if(e)return e;if(t?.classList.contains("target"))return"target";if(t?.classList.contains("source"))return"source";return null}function eI(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function eP({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:a,setState:o,isValidConnection:s,edgeUpdaterType:l,onEdgeUpdateEnd:u}){let c,d;let f=O(e.target),{connectionMode:h,domNode:p,autoPanOnConnect:m,connectionRadius:g,onConnectStart:y,panBy:v,getNodes:_,cancelConnection:b}=a(),x=0,{x:w,y:S}=U(e),E=eO(l,f?.elementFromPoint(w,S)),k=p?.getBoundingClientRect();if(!k||!E)return;let N=U(e,k),C=!1,M=null,T=!1,I=null,P=function({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((e,i)=>{if(i[j]){let{handleBounds:a}=i[j],o=[],s=[];a&&(o=eC(i,a,"source",`${t}-${n}-${r}`),s=eC(i,a,"target",`${t}-${n}-${r}`)),e.push(...o,...s)}return e},[])}({nodes:_(),nodeId:n,handleId:t,handleType:E}),$=()=>{if(!m)return;let[e,t]=A(N,k);v({x:e,y:t}),x=requestAnimationFrame($)};function Z(e){var r,l;let u,{transform:p}=a();N=U(e,k);let{handle:m,validHandleResult:y}=function(e,t,n,r,i,a){let{x:o,y:s}=U(e),l=t.elementsFromPoint(o,s).find(e=>e.classList.contains("react-flow__handle"));if(l){let e=l.getAttribute("data-nodeid");if(e){let t=eO(void 0,l),r=l.getAttribute("data-handleid"),o=a({nodeId:e,id:r,type:t});if(o){let a=i.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:a?.x||n.x,y:a?.y||n.y},validHandleResult:o}}}}let u=[],c=1/0;if(i.forEach(e=>{let t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){let n=a(e);t<=c&&(t<c?u=[{handle:e,validHandleResult:n}]:t===c&&u.push({handle:e,validHandleResult:n}),c=t)}}),!u.length)return{handle:null,validHandleResult:eT()};if(1===u.length)return u[0];let d=u.some(({validHandleResult:e})=>e.isValid),f=u.some(({handle:e})=>"target"===e.type);return u.find(({handle:e,validHandleResult:t})=>f?"target"===e.type:!d||t.isValid)||u[0]}(e,f,e_(N,p,!1,[1,1]),g,P,e=>eA(e,h,n,t,i?"target":"source",s,f));c=m,!C&&($(),C=!0),I=y.handleDomNode,M=y.connection,T=y.isValid;if(o({connectionPosition:c&&T?eb({x:c.x,y:c.y},p):N,connectionStatus:(r=!!c,u=null,(l=T)?u="valid":r&&!l&&(u="invalid"),u),connectionEndHandle:y.endHandle}),!c&&!T&&!I)return eI(d);M.source!==M.target&&I&&(eI(d),d=I,I.classList.add("connecting","react-flow__handle-connecting"),I.classList.toggle("valid",T),I.classList.toggle("react-flow__handle-valid",T))}function z(e){(c||I)&&M&&T&&r?.(M),a().onConnectEnd?.(e),l&&u?.(e),eI(d),b(),cancelAnimationFrame(x),C=!1,T=!1,M=null,I=null,f.removeEventListener("mousemove",Z),f.removeEventListener("mouseup",z),f.removeEventListener("touchmove",Z),f.removeEventListener("touchend",z)}o({connectionPosition:N,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:E,connectionStartHandle:{nodeId:n,handleId:t,type:E},connectionEndHandle:null}),y?.(e,{nodeId:n,handleId:t,handleType:E}),f.addEventListener("mousemove",Z),f.addEventListener("mouseup",z),f.addEventListener("touchmove",Z),f.addEventListener("touchend",z)}let e$=()=>!0,eZ=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ez=(e,t,n)=>r=>{let{connectionStartHandle:i,connectionEndHandle:a,connectionClickStartHandle:o}=r;return{connecting:i?.nodeId===e&&i?.handleId===t&&i?.type===n||a?.nodeId===e&&a?.handleId===t&&a?.type===n,clickConnecting:o?.nodeId===e&&o?.handleId===t&&o?.type===n}},eR=(0,u.forwardRef)(({type:e="source",position:t=l.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:o,onConnect:s,children:d,className:h,onMouseDown:p,onTouchStart:m,...g},y)=>{let _=o||null,w="target"===e,S=x(),E=eh(),{connectOnClick:k,noPanClassName:N}=b(eZ,f.shallow),{connecting:C,clickConnecting:M}=b(ez(E,_,e),f.shallow);!E&&S.getState().onError?.("010",v.error010());let T=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=S.getState(),i={...t,...e};if(r){let{edges:e,setEdges:t}=S.getState();t(ev(i,e))}n?.(i),s?.(i)},A=e=>{if(!E)return;let t=F(e);i&&(t&&0===e.button||!t)&&eP({event:e,handleId:_,nodeId:E,onConnect:T,isTarget:w,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||e$}),t?p?.(e):m?.(e)};return u.createElement("div",{"data-handleid":_,"data-nodeid":E,"data-handlepos":t,"data-id":`${E}-${_}-${e}`,className:(0,c.default)(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,h,{source:!w,target:w,connectable:r,connectablestart:i,connectableend:a,connecting:M,connectionindicator:r&&(i&&!C||a&&C)}]),onMouseDown:A,onTouchStart:A,onClick:k?t=>{let{onClickConnectStart:r,onClickConnectEnd:a,connectionClickStartHandle:o,connectionMode:s,isValidConnection:l}=S.getState();if(!E||!o&&!i)return;if(!o){r?.(t,{nodeId:E,handleId:_,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:E,type:e,handleId:_}});return}let u=O(t.target),c=n||l||e$,{connection:d,isValid:f}=eA({nodeId:E,id:_,type:e},s,o.nodeId,o.handleId||null,o.type,c,u);f&&T(d),a?.(t),S.setState({connectionClickStartHandle:null})}:void 0,ref:y,...g},d)});eR.displayName="Handle";var eD=(0,u.memo)(eR);let ej=({data:e,isConnectable:t,targetPosition:n=l.Top,sourcePosition:r=l.Bottom})=>u.createElement(u.Fragment,null,u.createElement(eD,{type:"target",position:n,isConnectable:t}),e?.label,u.createElement(eD,{type:"source",position:r,isConnectable:t}));ej.displayName="DefaultNode";var eL=(0,u.memo)(ej);let eB=({data:e,isConnectable:t,sourcePosition:n=l.Bottom})=>u.createElement(u.Fragment,null,e?.label,u.createElement(eD,{type:"source",position:n,isConnectable:t}));eB.displayName="InputNode";var eV=(0,u.memo)(eB);let eH=({data:e,isConnectable:t,targetPosition:n=l.Top})=>u.createElement(u.Fragment,null,u.createElement(eD,{type:"target",position:n,isConnectable:t}),e?.label);eH.displayName="OutputNode";var eF=(0,u.memo)(eH);let eU=()=>null;eU.displayName="GroupNode";let eK=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected)}),eY=e=>e.id;function eX(e,t){return(0,f.shallow)(e.selectedNodes.map(eY),t.selectedNodes.map(eY))&&(0,f.shallow)(e.selectedEdges.map(eY),t.selectedEdges.map(eY))}let eq=(0,u.memo)(({onSelectionChange:e})=>{let t=x(),{selectedNodes:n,selectedEdges:r}=b(eK,eX);return(0,u.useEffect)(()=>{let i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChange.forEach(e=>e(i))},[n,r,e]),null});eq.displayName="SelectionListener";let eW=e=>!!e.onSelectionChange;function eG({onSelectionChange:e}){let t=b(eW);return e||t?u.createElement(eq,{onSelectionChange:e}):null}let eJ=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function eQ(e,t){(0,u.useEffect)(()=>{void 0!==e&&t(e)},[e])}function e0(e,t,n){(0,u.useEffect)(()=>{void 0!==t&&n({[e]:t})},[t])}let e1=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:a,onConnectEnd:o,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:d,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:y,maxZoom:v,nodeExtent:_,onNodesChange:w,onEdgesChange:S,elementsSelectable:E,connectionMode:k,snapGrid:N,snapToGrid:C,translateExtent:M,connectOnClick:T,defaultEdgeOptions:A,fitView:O,fitViewOptions:I,onNodesDelete:P,onEdgesDelete:$,onNodeDrag:Z,onNodeDragStart:z,onNodeDragStop:R,onSelectionDrag:D,onSelectionDragStart:j,onSelectionDragStop:L,noPanClassName:B,nodeOrigin:V,rfId:H,autoPanOnConnect:F,autoPanOnNodeDrag:U,onError:K,connectionRadius:Y,isValidConnection:X,nodeDragThreshold:q})=>{let{setNodes:W,setEdges:G,setDefaultNodesAndEdges:J,setMinZoom:Q,setMaxZoom:ee,setTranslateExtent:et,setNodeExtent:en,reset:er}=b(eJ,f.shallow),ei=x();return(0,u.useEffect)(()=>(J(n,r?.map(e=>({...e,...A}))),()=>{er()}),[]),e0("defaultEdgeOptions",A,ei.setState),e0("connectionMode",k,ei.setState),e0("onConnect",i,ei.setState),e0("onConnectStart",a,ei.setState),e0("onConnectEnd",o,ei.setState),e0("onClickConnectStart",s,ei.setState),e0("onClickConnectEnd",l,ei.setState),e0("nodesDraggable",c,ei.setState),e0("nodesConnectable",d,ei.setState),e0("nodesFocusable",h,ei.setState),e0("edgesFocusable",p,ei.setState),e0("edgesUpdatable",m,ei.setState),e0("elementsSelectable",E,ei.setState),e0("elevateNodesOnSelect",g,ei.setState),e0("snapToGrid",C,ei.setState),e0("snapGrid",N,ei.setState),e0("onNodesChange",w,ei.setState),e0("onEdgesChange",S,ei.setState),e0("connectOnClick",T,ei.setState),e0("fitViewOnInit",O,ei.setState),e0("fitViewOnInitOptions",I,ei.setState),e0("onNodesDelete",P,ei.setState),e0("onEdgesDelete",$,ei.setState),e0("onNodeDrag",Z,ei.setState),e0("onNodeDragStart",z,ei.setState),e0("onNodeDragStop",R,ei.setState),e0("onSelectionDrag",D,ei.setState),e0("onSelectionDragStart",j,ei.setState),e0("onSelectionDragStop",L,ei.setState),e0("noPanClassName",B,ei.setState),e0("nodeOrigin",V,ei.setState),e0("rfId",H,ei.setState),e0("autoPanOnConnect",F,ei.setState),e0("autoPanOnNodeDrag",U,ei.setState),e0("onError",K,ei.setState),e0("connectionRadius",Y,ei.setState),e0("isValidConnection",X,ei.setState),e0("nodeDragThreshold",q,ei.setState),eQ(e,W),eQ(t,G),eQ(y,Q),eQ(v,ee),eQ(M,et),eQ(_,en),null},e2={display:"none"},e4={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},e3="react-flow__node-desc",e5="react-flow__edge-desc",e7=e=>e.ariaLiveMessage;function e6({rfId:e}){let t=b(e7);return u.createElement("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:e4},t)}function e9({rfId:e,disableKeyboardA11y:t}){return u.createElement(u.Fragment,null,u.createElement("div",{id:`${e3}-${e}`,style:e2},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),u.createElement("div",{id:`${e5}-${e}`,style:e2},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&u.createElement(e6,{rfId:e}))}var e8=(e=null,t={actInsideInputWithModifier:!0})=>{let[n,r]=(0,u.useState)(!1),i=(0,u.useRef)(!1),a=(0,u.useRef)(new Set([])),[o,s]=(0,u.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,u.useEffect)(()=>{let n=t?.target||("undefined"!=typeof document?document:null);if(null!==e){let e=e=>{if(i.current=e.ctrlKey||e.metaKey||e.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&H(e))return!1;let n=tt(e.code,s);a.current.add(e[n]),te(o,a.current,!1)&&(e.preventDefault(),r(!0))},l=e=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&H(e))return!1;let n=tt(e.code,s);te(o,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(e[n]),"Meta"===e.key&&a.current.clear(),i.current=!1},u=()=>{a.current.clear(),r(!1)};return n?.addEventListener("keydown",e),n?.addEventListener("keyup",l),window.addEventListener("blur",u),()=>{n?.removeEventListener("keydown",e),n?.removeEventListener("keyup",l),window.removeEventListener("blur",u)}}},[e,r]),n};function te(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function tt(e,t){return t.includes(e)?"code":"key"}function tn(e,t,n){e.forEach(r=>{if(r.parentNode&&!e.has(r.parentNode))throw Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n?.[r.id]){let{x:i,y:a,z:o}=function e(t,n,r,i){if(!t.parentNode)return r;let a=n.get(t.parentNode),o=ex(a,i);return e(a,n,{x:(r.x??0)+o.x,y:(r.y??0)+o.y,z:(a[j]?.z??0)>(r.z??0)?a[j]?.z??0:r.z??0},i)}(r,e,{...r.position,z:r[j]?.z??0},t);r.positionAbsolute={x:i,y:a},r[j].z=o,n?.[r.id]&&(r[j].isParent=!0)}})}function tr(e,t,n,r){let i=new Map,a={},o=r?1e3:0;return e.forEach(e=>{let n=(D(e.zIndex)?e.zIndex:0)+(e.selected?o:0),r=t.get(e.id),s={...e,positionAbsolute:{x:e.position.x,y:e.position.y}};e.parentNode&&(a[e.parentNode]=!0),Object.defineProperty(s,j,{enumerable:!1,value:{handleBounds:r?.type&&r?.type!==e.type?void 0:r?.[j]?.handleBounds,z:n}}),i.set(e.id,s)}),tn(i,n,a),i}function ti(e,t={}){let{getNodes:n,width:r,height:i,minZoom:a,maxZoom:o,d3Zoom:s,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(s&&l&&(f||!t.initial)){let e=n().filter(e=>{let n=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?n&&t.nodes.some(t=>t.id===e.id):n}),u=e.every(e=>e.width&&e.height);if(e.length>0&&u){let{x:n,y:u,zoom:c}=ek(ew(e,d),r,i,t.minZoom??a,t.maxZoom??o,t.padding??.1),f=h.zoomIdentity.translate(n,u).scale(c);return"number"==typeof t.duration&&t.duration>0?s.transform(eN(l,t.duration),f):s.transform(l,f),!0}}return!1}function ta({changedNodes:e,changedEdges:t,get:n,set:r}){var i,a,o;let{nodeInternals:s,edges:l,onNodesChange:u,onEdgesChange:c,hasDefaultNodes:d,hasDefaultEdges:f}=n();if(e?.length){if(d){;r({nodeInternals:(i=e,a=s,i.forEach(e=>{let t=a.get(e.id);t&&a.set(t.id,{...t,[j]:t[j],selected:e.selected})}),new Map(a))})}u?.(e)}if(t?.length){if(f){;r({edges:(o=t,l.map(e=>{let t=o.find(t=>t.id===e.id);return t&&(e.selected=t.selected),e}))})}c?.(t)}}let to=()=>{},ts={zoomIn:to,zoomOut:to,zoomTo:to,getZoom:()=>1,setViewport:to,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:to,fitBounds:to,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},tl=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),tu=()=>{let e=x(),{d3Zoom:t,d3Selection:n}=b(tl,f.shallow);return(0,u.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(eN(n,e?.duration),1.2),zoomOut:e=>t.scaleBy(eN(n,e?.duration),1/1.2),zoomTo:(e,r)=>t.scaleTo(eN(n,r?.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(r,i)=>{let[a,o,s]=e.getState().transform,l=h.zoomIdentity.translate(r.x??a,r.y??o).scale(r.zoom??s);t.transform(eN(n,i?.duration),l)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>ti(e.getState,t),setCenter:(r,i,a)=>{let{width:o,height:s,maxZoom:l}=e.getState(),u=void 0!==a?.zoom?a.zoom:l,c=o/2-r*u,d=s/2-i*u,f=h.zoomIdentity.translate(c,d).scale(u);t.transform(eN(n,a?.duration),f)},fitBounds:(r,i)=>{let{width:a,height:o,minZoom:s,maxZoom:l}=e.getState(),{x:u,y:c,zoom:d}=ek(r,a,o,s,l,i?.padding??.1),f=h.zoomIdentity.translate(u,c).scale(d);t.transform(eN(n,i?.duration),f)},project:t=>{let{transform:n,snapToGrid:r,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),e_(t,n,r,i)},screenToFlowPosition:t=>{let{transform:n,snapToGrid:r,snapGrid:i,domNode:a}=e.getState();if(!a)return t;let{x:o,y:s}=a.getBoundingClientRect();return e_({x:t.x-o,y:t.y-s},n,r,i)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:i,y:a}=r.getBoundingClientRect(),o=eb(t,n);return{x:o.x+i,y:o.y+a}},viewportInitialized:!0}:ts,[t,n])};function tc(){let e=tu(),t=x(),n=(0,u.useCallback)(()=>t.getState().getNodes().map(e=>({...e})),[]),r=(0,u.useCallback)(e=>t.getState().nodeInternals.get(e),[]),i=(0,u.useCallback)(()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},[]),a=(0,u.useCallback)(e=>{let{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),o=(0,u.useCallback)(e=>{let{getNodes:n,setNodes:r,hasDefaultNodes:i,onNodesChange:a}=t.getState(),o=n(),s="function"==typeof e?e(o):e;i?r(s):a&&a(0===s.length?o.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"})))},[]),s=(0,u.useCallback)(e=>{let{edges:n=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:a}=t.getState(),o="function"==typeof e?e(n):e;i?r(o):a&&a(0===o.length?n.map(e=>({type:"remove",id:e.id})):o.map(e=>({item:e,type:"reset"})))},[]),l=(0,u.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{getNodes:r,setNodes:i,hasDefaultNodes:a,onNodesChange:o}=t.getState();a?i([...r(),...n]):o&&o(n.map(e=>({item:e,type:"add"})))},[]),c=(0,u.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{edges:r=[],setEdges:i,hasDefaultEdges:a,onEdgesChange:o}=t.getState();a?i([...r,...n]):o&&o(n.map(e=>({item:e,type:"add"})))},[]),d=(0,u.useCallback)(()=>{let{getNodes:e,edges:n=[],transform:r}=t.getState(),[i,a,o]=r;return{nodes:e().map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:i,y:a,zoom:o}}},[]),f=(0,u.useCallback)(({nodes:e,edges:n})=>{let{nodeInternals:r,getNodes:i,edges:a,hasDefaultNodes:o,hasDefaultEdges:s,onNodesDelete:l,onEdgesDelete:u,onNodesChange:c,onEdgesChange:d}=t.getState(),f=(e||[]).map(e=>e.id),h=(n||[]).map(e=>e.id),p=i().reduce((e,t)=>{let n=!f.includes(t.id)&&t.parentNode&&e.find(e=>e.id===t.parentNode);return("boolean"!=typeof t.deletable||t.deletable)&&(f.includes(t.id)||n)&&e.push(t),e},[]),m=a.filter(e=>"boolean"!=typeof e.deletable||e.deletable),g=m.filter(e=>h.includes(e.id));if(p||g){let e=[...g,...eE(p,m)],n=e.reduce((e,t)=>(!e.includes(t.id)&&e.push(t.id),e),[]);(s||o)&&(s&&t.setState({edges:a.filter(e=>!n.includes(e.id))}),o&&(p.forEach(e=>{r.delete(e.id)}),t.setState({nodeInternals:new Map(r)}))),n.length>0&&(u?.(e),d&&d(n.map(e=>({id:e,type:"remove"})))),p.length>0&&(l?.(p),c&&c(p.map(e=>({id:e.id,type:"remove"}))))}},[]),h=(0,u.useCallback)(e=>{let n=R(e),r=n?null:t.getState().nodeInternals.get(e.id);return n||r?[n?e:Z(r),r,n]:[null,null,n]},[]),p=(0,u.useCallback)((e,n=!0,r)=>{let[i,a,o]=h(e);return i?(r||t.getState().getNodes()).filter(e=>{if(!o&&(e.id===a.id||!e.positionAbsolute))return!1;let t=z(Z(e),i);return n&&t>0||t>=i.width*i.height}):[]},[]),m=(0,u.useCallback)((e,t,n=!0)=>{let[r]=h(e);if(!r)return!1;let i=z(r,t);return n&&i>0||i>=r.width*r.height},[]);return(0,u.useMemo)(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:o,setEdges:s,addNodes:l,addEdges:c,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:m}),[e,n,r,i,a,o,s,l,c,d,f,p,m])}let td={actInsideInputWithModifier:!1};var tf=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{let n=x(),{deleteElements:r}=tc(),i=e8(e,td),a=e8(t);(0,u.useEffect)(()=>{if(i){let{edges:e,getNodes:t}=n.getState(),i=t().filter(e=>e.selected);r({nodes:i,edges:e.filter(e=>e.selected)}),n.setState({nodesSelectionActive:!1})}},[i]),(0,u.useEffect)(()=>{n.setState({multiSelectionActive:a})},[a])};let th={position:"absolute",width:"100%",height:"100%",top:0,left:0},tp=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,tm=e=>({x:e.x,y:e.y,zoom:e.k}),tg=(e,t)=>e.target.closest(`.${t}`),ty=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),tv=e=>{let t=e.ctrlKey&&K()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},t_=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),tb=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=i.Free,zoomOnDoubleClick:d=!0,elementsSelectable:m,panOnDrag:g=!0,defaultViewport:y,translateExtent:_,minZoom:w,maxZoom:S,zoomActivationKeyCode:E,preventScrolling:k=!0,children:M,noWheelClassName:T,noPanClassName:A})=>{let O=(0,u.useRef)(),I=x(),P=(0,u.useRef)(!1),$=(0,u.useRef)(!1),Z=(0,u.useRef)(null),z=(0,u.useRef)({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:D,d3ZoomHandler:j,userSelectionActive:L}=b(t_,f.shallow),B=e8(E),V=(0,u.useRef)(0),H=(0,u.useRef)(!1),F=(0,u.useRef)();return!function(e){let t=x();(0,u.useEffect)(()=>{let n;let r=()=>{if(!e.current)return;let n=N(e.current);(0===n.height||0===n.width)&&t.getState().onError?.("004",v.error004()),t.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r())).observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}(Z),(0,u.useEffect)(()=>{if(Z.current){let e=Z.current.getBoundingClientRect(),t=(0,h.zoom)().scaleExtent([w,S]).translateExtent(_),n=(0,p.select)(Z.current).call(t),r=h.zoomIdentity.translate(y.x,y.y).scale(C(y.zoom,w,S)),i=[[0,0],[e.width,e.height]],a=t.constrain()(r,i,_);t.transform(n,a),t.wheelDelta(tv),I.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[a.x,a.y,a.k],domNode:Z.current.closest(".react-flow")})}},[]),(0,u.useEffect)(()=>{D&&R&&(!s||B||L?void 0!==j&&D.on("wheel.zoom",function(e,t){if(!k||tg(e,T))return null;e.preventDefault(),j.call(this,e,t)},{passive:!1}):D.on("wheel.zoom",r=>{if(tg(r,T))return!1;r.preventDefault(),r.stopImmediatePropagation();let a=D.property("__zoom").k||1,s=K();if(r.ctrlKey&&o&&s){let e=(0,p.pointer)(r),t=tv(r);R.scaleTo(D,a*Math.pow(2,t),e,r);return}let u=1===r.deltaMode?20:1,d=c===i.Vertical?0:r.deltaX*u,f=c===i.Horizontal?0:r.deltaY*u;!s&&r.shiftKey&&c!==i.Vertical&&(d=r.deltaY*u,f=0),R.translateBy(D,-(d/a)*l,-(f/a)*l,{internal:!0});let h=tm(D.property("__zoom")),{onViewportChangeStart:m,onViewportChange:g,onViewportChangeEnd:y}=I.getState();clearTimeout(F.current),!H.current&&(H.current=!0,t?.(r,h),m?.(h)),H.current&&(e?.(r,h),g?.(h),F.current=setTimeout(()=>{n?.(r,h),y?.(h),H.current=!1},150))},{passive:!1}))},[L,s,c,D,R,j,B,o,k,T,t,e,n]),(0,u.useEffect)(()=>{R&&R.on("start",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;V.current=e.sourceEvent?.button;let{onViewportChangeStart:n}=I.getState(),r=tm(e.transform);P.current=!0,z.current=r,e.sourceEvent?.type==="mousedown"&&I.setState({paneDragging:!0}),n?.(r),t?.(e.sourceEvent,r)})},[R,t]),(0,u.useEffect)(()=>{R&&(L&&!P.current?R.on("zoom",null):!L&&R.on("zoom",t=>{let{onViewportChange:n}=I.getState();if(I.setState({transform:[t.transform.x,t.transform.y,t.transform.k]}),$.current=!!(r&&ty(g,V.current??0)),(e||n)&&!t.sourceEvent?.internal){let r=tm(t.transform);n?.(r),e?.(t.sourceEvent,r)}}))},[L,R,e,g,r]),(0,u.useEffect)(()=>{R&&R.on("end",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;let{onViewportChangeEnd:t}=I.getState();if(P.current=!1,I.setState({paneDragging:!1}),r&&ty(g,V.current??0)&&!$.current&&r(e.sourceEvent),$.current=!1,(n||t)&&tp(z.current,e.transform)){let r=tm(e.transform);z.current=r,clearTimeout(O.current),O.current=setTimeout(()=>{t?.(r),n?.(e.sourceEvent,r)},s?150:0)}})},[R,s,g,n,r]),(0,u.useEffect)(()=>{R&&R.filter(e=>{let t=B||a,n=o&&e.ctrlKey;if((!0===g||Array.isArray(g)&&g.includes(1))&&1===e.button&&"mousedown"===e.type&&(tg(e,"react-flow__node")||tg(e,"react-flow__edge")))return!0;if(!g&&!t&&!s&&!d&&!o||L||!d&&"dblclick"===e.type||tg(e,T)&&"wheel"===e.type||tg(e,A)&&("wheel"!==e.type||s&&"wheel"===e.type&&!B)||!o&&e.ctrlKey&&"wheel"===e.type||!t&&!s&&!n&&"wheel"===e.type||!g&&("mousedown"===e.type||"touchstart"===e.type)||Array.isArray(g)&&!g.includes(e.button)&&("mousedown"===e.type||"touchstart"===e.type))return!1;let r=Array.isArray(g)&&g.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[L,R,a,o,s,d,g,m,B]),u.createElement("div",{className:"react-flow__renderer",ref:Z,style:th},M)},tx=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function tw(){let{userSelectionActive:e,userSelectionRect:t}=b(tx,f.shallow);return e&&t?u.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function tS(e,t){let n=e.find(e=>e.id===t.parentNode);if(n){let e=t.position.x+t.width-n.width,r=t.position.y+t.height-n.height;if(e>0||r>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,e>0&&(n.style.width+=e),r>0&&(n.style.height+=r),t.position.x<0){let e=Math.abs(t.position.x);n.position.x=n.position.x-e,n.style.width+=e,t.position.x=0}if(t.position.y<0){let e=Math.abs(t.position.y);n.position.y=n.position.y-e,n.style.height+=e,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function tE(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);let n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{let r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;let i={...n};for(let e of r)if(e)switch(e.type){case"select":i.selected=e.selected;break;case"position":void 0!==e.position&&(i.position=e.position),void 0!==e.positionAbsolute&&(i.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(i.dragging=e.dragging),i.expandParent&&tS(t,i);break;case"dimensions":void 0!==e.dimensions&&(i.width=e.dimensions.width,i.height=e.dimensions.height),void 0!==e.updateStyle&&(i.style={...i.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(i.resizing=e.resizing),i.expandParent&&tS(t,i);break;case"remove":return t}return t.push(i),t},n)}function tk(e,t){return tE(e,t)}let tN=(e,t)=>({id:e,type:"select",selected:t});function tC(e,t){return e.reduce((e,n)=>{let r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(tN(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(tN(n.id,!1))),e},[])}let tM=(e,t)=>n=>{n.target===t.current&&e?.(n)},tT=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),tA=(0,u.memo)(({isSelecting:e,selectionMode:t=a.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:d,onPaneMouseMove:h,onPaneMouseLeave:p,children:m})=>{let g=(0,u.useRef)(null),y=x(),v=(0,u.useRef)(0),_=(0,u.useRef)(0),w=(0,u.useRef)(),{userSelectionActive:S,elementsSelectable:E,dragging:k}=b(tT,f.shallow),N=()=>{y.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,_.current=0},C=e=>{o?.(e),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},M=E&&(e||S);return u.createElement("div",{className:(0,c.default)(["react-flow__pane",{dragging:k,selection:e}]),onClick:M?void 0:tM(C,g),onContextMenu:tM(e=>{if(Array.isArray(n)&&n?.includes(2)){e.preventDefault();return}s?.(e)},g),onWheel:tM(l?e=>l(e):void 0,g),onMouseEnter:M?void 0:d,onMouseDown:M?t=>{let{resetSelectedElements:n,domNode:i}=y.getState();if(w.current=i?.getBoundingClientRect(),!E||!e||0!==t.button||t.target!==g.current||!w.current)return;let{x:a,y:o}=U(t,w.current);n(),y.setState({userSelectionRect:{width:0,height:0,startX:a,startY:o,x:a,y:o}}),r?.(t)}:void 0,onMouseMove:M?n=>{let{userSelectionRect:r,nodeInternals:i,edges:o,transform:s,onNodesChange:l,onEdgesChange:u,nodeOrigin:c,getNodes:d}=y.getState();if(!e||!w.current||!r)return;y.setState({userSelectionActive:!0,nodesSelectionActive:!1});let f=U(n,w.current),h=r.startX??0,p=r.startY??0,m={...r,x:f.x<h?f.x:h,y:f.y<p?f.y:p,width:Math.abs(f.x-h),height:Math.abs(f.y-p)},g=d(),b=eS(i,m,s,t===a.Partial,!0,c),x=eE(b,o).map(e=>e.id),S=b.map(e=>e.id);if(v.current!==S.length){v.current=S.length;let e=tC(g,S);e.length&&l?.(e)}if(_.current!==x.length){_.current=x.length;let e=tC(o,x);e.length&&u?.(e)}y.setState({userSelectionRect:m})}:h,onMouseUp:M?e=>{if(0!==e.button)return;let{userSelectionRect:t}=y.getState();!S&&t&&e.target===g.current&&C?.(e),y.setState({nodesSelectionActive:v.current>0}),N(),i?.(e)}:void 0,onMouseLeave:M?e=>{S&&(y.setState({nodesSelectionActive:v.current>0}),i?.(e)),N()}:p,ref:g,style:th},m,u.createElement(tw,null))});tA.displayName="Pane";function tO(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n.current)break;r=r.parentElement}while(r);return!1}function tI(e,t,n,r,i=[0,0],a){var o,s;let l=(o=e,(s=e.extent||r)&&"parent"!==s?[s[0],[s[1][0]-(o.width||0),s[1][1]-(o.height||0)]]:s),u=l;if("parent"!==e.extent||e.expandParent){if(e.extent&&e.parentNode&&"parent"!==e.extent){let{x:t,y:r}=ex(n.get(e.parentNode),i).positionAbsolute;u=[[e.extent[0][0]+t,e.extent[0][1]+r],[e.extent[1][0]+t,e.extent[1][1]+r]]}}else if(e.parentNode&&e.width&&e.height){let t=n.get(e.parentNode),{x:r,y:a}=ex(t,i).positionAbsolute;u=t&&D(r)&&D(a)&&D(t.width)&&D(t.height)?[[r+e.width*i[0],a+e.height*i[1]],[r+t.width-e.width+e.width*i[0],a+t.height-e.height+e.height*i[1]]]:u}else a?.("005",v.error005()),u=l;let c={x:0,y:0};e.parentNode&&(c=ex(n.get(e.parentNode),i).positionAbsolute);let d=u&&"parent"!==u?M(t,u):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function tP({nodeId:e,dragItems:t,nodeInternals:n}){let r=t.map(e=>({...n.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute}));return[e?r.find(t=>t.id===e):r[0],r]}let t$=(e,t,n,r)=>{let i=t.querySelectorAll(e);if(!i||!i.length)return null;let a=Array.from(i),o=t.getBoundingClientRect(),s={x:o.width*r[0],y:o.height*r[1]};return a.map(e=>{let t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-o.left-s.x)/n,y:(t.top-o.top-s.y)/n,...N(e)}})};function tZ(e,t,n){return void 0===n?n:r=>{let i=t().nodeInternals.get(e);i&&n(r,{...i})}}function tz({id:e,store:t,unselect:n=!1,nodeRef:r}){let{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:o,nodeInternals:s,onError:l}=t.getState(),u=s.get(e);if(!u){l?.("012",v.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([e])}function tR(e){return(t,n,r)=>e?.(t,r)}function tD({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,selectNodesOnDrag:o}){let s=x(),[l,c]=(0,u.useState)(!1),d=(0,u.useRef)([]),f=(0,u.useRef)({x:null,y:null}),h=(0,u.useRef)(0),g=(0,u.useRef)(null),y=(0,u.useRef)({x:0,y:0}),v=(0,u.useRef)(null),_=(0,u.useRef)(!1),b=(0,u.useRef)(!1),w=function(){let e=x();return(0,u.useCallback)(({sourceEvent:t})=>{let{transform:n,snapGrid:r,snapToGrid:i}=e.getState(),a=t.touches?t.touches[0].clientX:t.clientX,o=t.touches?t.touches[0].clientY:t.clientY,s={x:(a-n[0])/n[2],y:(o-n[1])/n[2]};return{xSnapped:i?r[0]*Math.round(s.x/r[0]):s.x,ySnapped:i?r[1]*Math.round(s.y/r[1]):s.y,...s}},[])}();return(0,u.useEffect)(()=>{if(e?.current){let l=(0,p.select)(e.current),u=({x:e,y:t})=>{let{nodeInternals:n,onNodeDrag:r,onSelectionDrag:a,updateNodePositions:o,nodeExtent:l,snapGrid:u,snapToGrid:h,nodeOrigin:p,onError:m}=s.getState();f.current={x:e,y:t};let g=!1,y={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&l&&(y=P(ew(d.current,p))),d.current=d.current.map(r=>{let i={x:e-r.distance.x,y:t-r.distance.y};h&&(i.x=u[0]*Math.round(i.x/u[0]),i.y=u[1]*Math.round(i.y/u[1]));let a=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];d.current.length>1&&l&&!r.extent&&(a[0][0]=r.positionAbsolute.x-y.x+l[0][0],a[1][0]=r.positionAbsolute.x+(r.width??0)-y.x2+l[1][0],a[0][1]=r.positionAbsolute.y-y.y+l[0][1],a[1][1]=r.positionAbsolute.y+(r.height??0)-y.y2+l[1][1]);let o=tI(r,i,n,a,p,m);return g=g||r.position.x!==o.position.x||r.position.y!==o.position.y,r.position=o.position,r.positionAbsolute=o.positionAbsolute,r}),!g)return;o(d.current,!0,!0),c(!0);let _=i?r:tR(a);if(_&&v.current){let[e,t]=tP({nodeId:i,dragItems:d.current,nodeInternals:n});_(v.current,e,t)}},x=()=>{if(!g.current)return;let[e,t]=A(y.current,g.current);if(0!==e||0!==t){let{transform:n,panBy:r}=s.getState();f.current.x=(f.current.x??0)-e/n[2],f.current.y=(f.current.y??0)-t/n[2],r({x:e,y:t})&&u(f.current)}h.current=requestAnimationFrame(x)},S=t=>{var n,r,l,u;let{nodeInternals:c,multiSelectionActive:h,nodesDraggable:p,unselectNodesAndEdges:m,onNodeDragStart:g,onSelectionDragStart:y}=s.getState();b.current=!0;let v=i?g:tR(y);(!o||!a)&&!h&&i&&!c.get(i)?.selected&&m(),i&&a&&o&&tz({id:i,store:s,nodeRef:e});let _=w(t);if(f.current=_,d.current=(n=c,r=p,l=_,u=i,Array.from(n.values()).filter(e=>(e.selected||e.id===u)&&(!e.parentNode||!function e(t,n){if(!t.parentNode)return!1;let r=n.get(t.parentNode);return!!r&&(!!r.selected||e(r,n))}(e,n))&&(e.draggable||r&&void 0===e.draggable)).map(e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:l.x-(e.positionAbsolute?.x??0),y:l.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode,width:e.width,height:e.height,expandParent:e.expandParent}))),v&&d.current){let[e,n]=tP({nodeId:i,dragItems:d.current,nodeInternals:c});v(t.sourceEvent,e,n)}};if(t)l.on(".drag",null);else{let t=(0,m.drag)().on("start",e=>{let{domNode:t,nodeDragThreshold:n}=s.getState();0===n&&S(e);let r=w(e);f.current=r,g.current=t?.getBoundingClientRect()||null,y.current=U(e.sourceEvent,g.current)}).on("drag",e=>{let t=w(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=s.getState();if(!_.current&&b.current&&n&&(_.current=!0,x()),!b.current){let n=t.xSnapped-(f?.current?.x??0),i=t.ySnapped-(f?.current?.y??0);Math.sqrt(n*n+i*i)>r&&S(e)}(f.current.x!==t.xSnapped||f.current.y!==t.ySnapped)&&d.current&&b.current&&(v.current=e.sourceEvent,y.current=U(e.sourceEvent,g.current),u(t))}).on("end",e=>{if(b.current&&(c(!1),_.current=!1,b.current=!1,cancelAnimationFrame(h.current),d.current)){let{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:a}=s.getState(),o=i?r:tR(a);if(t(d.current,!1,!1),o){let[t,r]=tP({nodeId:i,dragItems:d.current,nodeInternals:n});o(e.sourceEvent,t,r)}}}).filter(t=>{let i=t.target;return!t.button&&(!n||!tO(i,`.${n}`,e))&&(!r||tO(i,r,e))});return l.call(t),()=>{l.on(".drag",null)}}}},[e,t,n,r,a,s,i,o,w]),l}function tj(){let e=x();return(0,u.useCallback)(t=>{let{nodeInternals:n,nodeExtent:r,updateNodePositions:i,getNodes:a,snapToGrid:o,snapGrid:s,onError:l,nodesDraggable:u}=e.getState(),c=a().filter(e=>e.selected&&(e.draggable||u&&void 0===e.draggable)),d=o?s[0]:5,f=o?s[1]:5,h=t.isShiftPressed?4:1,p=t.x*d*h,m=t.y*f*h;i(c.map(e=>{if(e.positionAbsolute){let t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+m};o&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));let{positionAbsolute:i,position:a}=tI(e,t,n,r,void 0,l);e.position=a,e.positionAbsolute=i}return e}),!0,!1)},[])}let tL={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var tB=e=>{let t=({id:t,type:n,data:r,xPos:i,yPos:a,xPosOrigin:o,yPosOrigin:s,selected:l,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:m,onDoubleClick:g,style:y,className:v,isDraggable:_,isSelectable:b,isConnectable:w,isFocusable:S,selectNodesOnDrag:E,sourcePosition:k,targetPosition:N,hidden:C,resizeObserver:M,dragHandle:T,zIndex:A,isParent:O,noDragClassName:I,noPanClassName:P,initialized:$,disableKeyboardA11y:Z,ariaLabel:z,rfId:R,hasHandleBounds:D})=>{let j=x(),B=(0,u.useRef)(null),V=(0,u.useRef)(k),F=(0,u.useRef)(N),U=(0,u.useRef)(n),K=b||_||d||f||h||p,Y=tj(),X=tZ(t,j.getState,f),q=tZ(t,j.getState,h),W=tZ(t,j.getState,p),G=tZ(t,j.getState,m),J=tZ(t,j.getState,g);(0,u.useEffect)(()=>()=>{B.current&&M?.unobserve(B.current)},[]),(0,u.useEffect)(()=>{if(B.current&&!C){let e=B.current;(!$||!D)&&(M?.unobserve(e),M?.observe(e))}},[C,$,D]),(0,u.useEffect)(()=>{let e=U.current!==n,r=V.current!==k,i=F.current!==N;B.current&&(e||r||i)&&(e&&(U.current=n),r&&(V.current=k),i&&(F.current=N),j.getState().updateNodeDimensions([{id:t,nodeElement:B.current,forceUpdate:!0}]))},[t,n,k,N]);let Q=tD({nodeRef:B,disabled:C||!_,noDragClassName:I,handleSelector:T,nodeId:t,isSelectable:b,selectNodesOnDrag:E});return C?null:u.createElement("div",{className:(0,c.default)(["react-flow__node",`react-flow__node-${n}`,{[P]:_},v,{selected:l,selectable:b,parent:O,dragging:Q}]),ref:B,style:{zIndex:A,transform:`translate(${o}px,${s}px)`,pointerEvents:K?"all":"none",visibility:$?"visible":"hidden",...y},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:X,onMouseMove:q,onMouseLeave:W,onContextMenu:G,onClick:e=>{let{nodeDragThreshold:n}=j.getState();if(b&&(!E||!_||n>0)&&tz({id:t,store:j,nodeRef:B}),d){let n=j.getState().nodeInternals.get(t);n&&d(e,{...n})}},onDoubleClick:J,onKeyDown:S?e=>{!H(e)&&(L.includes(e.key)&&b?tz({id:t,store:j,unselect:"Escape"===e.key,nodeRef:B}):!Z&&_&&l&&Object.prototype.hasOwnProperty.call(tL,e.key)&&(j.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),Y({x:tL[e.key].x,y:tL[e.key].y,isShiftPressed:e.shiftKey})))}:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":Z?void 0:`${e3}-${R}`,"aria-label":z},u.createElement(ef,{value:t},u.createElement(e,{id:t,data:r,type:n,xPos:i,yPos:a,selected:l,isConnectable:w,sourcePosition:k,targetPosition:N,dragging:Q,dragHandle:T,zIndex:A})))};return t.displayName="NodeWrapper",(0,u.memo)(t)};let tV=e=>({...ew(e.getNodes().filter(e=>e.selected),e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive});var tH=(0,u.memo)(function({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let r=x(),{width:i,height:a,x:o,y:s,transformString:l,userSelectionActive:d}=b(tV,f.shallow),h=tj(),p=(0,u.useRef)(null);return((0,u.useEffect)(()=>{!n&&p.current?.focus({preventScroll:!0})},[n]),tD({nodeRef:p}),!d&&i&&a)?u.createElement("div",{className:(0,c.default)(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},u.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:e?t=>{e(t,r.getState().getNodes().filter(e=>e.selected))}:void 0,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(tL,e.key)&&h({x:tL[e.key].x,y:tL[e.key].y,isShiftPressed:e.shiftKey})},style:{width:i,height:a,top:s,left:o}})):null});let tF=e=>e.nodesSelectionActive,tU=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:v,zoomActivationKeyCode:_,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:E,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:C,panOnDrag:M,defaultViewport:T,translateExtent:A,minZoom:O,maxZoom:I,preventScrolling:P,onSelectionContextMenu:$,noWheelClassName:Z,noPanClassName:z,disableKeyboardA11y:R})=>{let D=b(tF),j=e8(f),L=e8(v),B=L||M,V=L||E,H=j||h&&!0!==B;return tf({deleteKeyCode:s,multiSelectionKeyCode:y}),u.createElement(tb,{onMove:l,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:V,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:C,panOnDrag:!j&&B,defaultViewport:T,translateExtent:A,minZoom:O,maxZoom:I,zoomActivationKeyCode:_,preventScrolling:P,noWheelClassName:Z,noPanClassName:z},u.createElement(tA,{onSelectionStart:m,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,panOnDrag:B,isSelecting:!!H,selectionMode:p},e,D&&u.createElement(tH,{onSelectionContextMenu:$,noPanClassName:z,disableKeyboardA11y:R})))};tU.displayName="FlowRenderer";var tK=(0,u.memo)(tU);function tY(e){let t={input:tB(e.input||eV),default:tB(e.default||eL),output:tB(e.output||eF),group:tB(e.group||eU)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=tB(e[n]||eL),t),{});return{...t,...n}}let tX=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r||i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},tq=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),tW=e=>{var t;let{nodesDraggable:n,nodesConnectable:r,nodesFocusable:i,elementsSelectable:a,updateNodeDimensions:o,onError:s}=b(tq,f.shallow);let c=(t=e.onlyRenderVisibleElements,b((0,u.useCallback)(e=>t?eS(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes(),[t]))),d=(0,u.useRef)(),h=(0,u.useMemo)(()=>{if("undefined"==typeof ResizeObserver)return null;let e=new ResizeObserver(e=>{o(e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})))});return d.current=e,e},[]);return(0,u.useEffect)(()=>()=>{d?.current?.disconnect()},[]),u.createElement("div",{className:"react-flow__nodes",style:th},c.map(t=>{let o=t.type||"default";!e.nodeTypes[o]&&(s?.("003",v.error003(o)),o="default");let c=e.nodeTypes[o]||e.nodeTypes.default,d=!!(t.draggable||n&&void 0===t.draggable),f=!!(t.selectable||a&&void 0===t.selectable),p=!!(t.connectable||r&&void 0===t.connectable),m=!!(t.focusable||i&&void 0===t.focusable),g=e.nodeExtent?M(t.positionAbsolute,e.nodeExtent):t.positionAbsolute,y=g?.x??0,_=g?.y??0,b=tX({x:y,y:_,width:t.width??0,height:t.height??0,origin:e.nodeOrigin});return u.createElement(c,{key:t.id,id:t.id,className:t.className,style:t.style,type:o,data:t.data,sourcePosition:t.sourcePosition||l.Bottom,targetPosition:t.targetPosition||l.Top,hidden:t.hidden,xPos:y,yPos:_,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!t.selected,isDraggable:d,isSelectable:f,isConnectable:p,isFocusable:m,resizeObserver:h,dragHandle:t.dragHandle,zIndex:t[j]?.z??0,isParent:!!t[j]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!t.width&&!!t.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:t.ariaLabel,hasHandleBounds:!!t[j]?.handleBounds})}))};tW.displayName="NodeRenderer";var tG=(0,u.memo)(tW);let tJ=(e,t,n)=>n===l.Left?e-t:n===l.Right?e+t:e,tQ=(e,t,n)=>n===l.Top?e-t:n===l.Bottom?e+t:e,t0="react-flow__edgeupdater",t1=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:o,type:s})=>u.createElement("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:o,className:(0,c.default)([t0,`${t0}-${s}`]),cx:tJ(t,r,e),cy:tQ(n,r,e),r:r,stroke:"transparent",fill:"transparent"}),t2=()=>!0;var t4=e=>{let t=({id:t,className:n,type:r,data:i,onClick:a,onEdgeDoubleClick:o,selected:s,animated:l,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,style:y,source:v,target:_,sourceX:b,sourceY:w,targetX:S,targetY:E,sourcePosition:k,targetPosition:N,elementsSelectable:C,hidden:M,sourceHandleId:T,targetHandleId:A,onContextMenu:O,onMouseEnter:I,onMouseMove:P,onMouseLeave:$,edgeUpdaterRadius:Z,onEdgeUpdate:z,onEdgeUpdateStart:R,onEdgeUpdateEnd:D,markerEnd:j,markerStart:B,rfId:V,ariaLabel:H,isFocusable:F,isUpdatable:U,pathOptions:K,interactionWidth:Y})=>{let q=(0,u.useRef)(null),[W,G]=(0,u.useState)(!1),[J,Q]=(0,u.useState)(!1),ee=x(),et=(0,u.useMemo)(()=>`url('#${eg(B,V)}')`,[B,V]),en=(0,u.useMemo)(()=>`url('#${eg(j,V)}')`,[j,V]);if(M)return null;let er=X(t,ee.getState,o),ei=X(t,ee.getState,O),ea=X(t,ee.getState,I),eo=X(t,ee.getState,P),es=X(t,ee.getState,$),el=(e,n)=>{if(0!==e.button)return;let{edges:r,isValidConnection:i}=ee.getState(),a=n?_:v,o=(n?A:T)||null,s=n?"target":"source",l=i||t2,u=r.find(e=>e.id===t);Q(!0),R?.(e,u,s);eP({event:e,handleId:o,nodeId:a,onConnect:e=>z?.(u,e),isTarget:n,getState:ee.getState,setState:ee.setState,isValidConnection:l,edgeUpdaterType:s,onEdgeUpdateEnd:e=>{Q(!1),D?.(e,u,s)}})},eu=()=>G(!0),ec=()=>G(!1),ed=!C&&!a;return u.createElement("g",{className:(0,c.default)(["react-flow__edge",`react-flow__edge-${r}`,n,{selected:s,animated:l,inactive:ed,updating:W}]),onClick:e=>{let{edges:n,addSelectedEdges:r,unselectNodesAndEdges:i,multiSelectionActive:o}=ee.getState(),s=n.find(e=>e.id===t);s&&(C&&(ee.setState({nodesSelectionActive:!1}),s.selected&&o?(i({nodes:[],edges:[s]}),q.current?.blur()):r([t])),a&&a(e,s))},onDoubleClick:er,onContextMenu:ei,onMouseEnter:ea,onMouseMove:eo,onMouseLeave:es,onKeyDown:F?e=>{if(L.includes(e.key)&&C){let{unselectNodesAndEdges:n,addSelectedEdges:r,edges:i}=ee.getState();"Escape"===e.key?(q.current?.blur(),n({edges:[i.find(e=>e.id===t)]})):r([t])}}:void 0,tabIndex:F?0:void 0,role:F?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":null===H?void 0:H||`Edge from ${v} to ${_}`,"aria-describedby":F?`${e5}-${V}`:void 0,ref:q},!J&&u.createElement(e,{id:t,source:v,target:_,selected:s,animated:l,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,data:i,style:y,sourceX:b,sourceY:w,targetX:S,targetY:E,sourcePosition:k,targetPosition:N,sourceHandleId:T,targetHandleId:A,markerStart:et,markerEnd:en,pathOptions:K,interactionWidth:Y}),U&&u.createElement(u.Fragment,null,("source"===U||!0===U)&&u.createElement(t1,{position:k,centerX:b,centerY:w,radius:Z,onMouseDown:e=>el(e,!0),onMouseEnter:eu,onMouseOut:ec,type:"source"}),("target"===U||!0===U)&&u.createElement(t1,{position:N,centerX:S,centerY:E,radius:Z,onMouseDown:e=>el(e,!1),onMouseEnter:eu,onMouseOut:ec,type:"target"})))};return t.displayName="EdgeWrapper",(0,u.memo)(t)};function t3(e){let t={default:t4(e.default||ec),straight:t4(e.bezier||eo),step:t4(e.step||ea),smoothstep:t4(e.step||ei),simplebezier:t4(e.simplebezier||Q)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=t4(e[n]||ec),t),{});return{...t,...n}}function t5(e,t,n=null){let r=(n?.x||0)+t.x,i=(n?.y||0)+t.y,a=n?.width||t.width,o=n?.height||t.height;switch(e){case l.Top:return{x:r+a/2,y:i};case l.Right:return{x:r+a,y:i+o/2};case l.Bottom:return{x:r+a/2,y:i+o};case l.Left:return{x:r,y:i+o/2}}}function t7(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}let t6=(e,t,n,r,i,a)=>{let o=t5(n,e,t),s=t5(a,r,i);return{sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y}};function t9(e){let t=e?.[j]?.handleBounds||null,n=t&&e?.width&&e?.height&&void 0!==e?.positionAbsolute?.x&&void 0!==e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}let t8=[{level:0,isMaxLevel:!0,edges:[]}],ne={[s.Arrow]:({color:e="none",strokeWidth:t=1})=>u.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[s.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>u.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},nt=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:o,orient:s="auto-start-reverse"})=>{let l=function(e){let t=x();return(0,u.useMemo)(()=>Object.prototype.hasOwnProperty.call(ne,e)?ne[e]:(t.getState().onError?.("009",v.error009(e)),null),[e])}(t);return l?u.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:s,refX:"0",refY:"0"},u.createElement(l,{color:n,strokeWidth:o})):null},nn=({defaultColor:e,rfId:t})=>n=>{let r=[];return n.edges.reduce((n,i)=>([i.markerStart,i.markerEnd].forEach(i=>{if(i&&"object"==typeof i){let a=eg(i,t);!r.includes(a)&&(n.push({id:a,color:i.color||e,...i}),r.push(a))}}),n),[]).sort((e,t)=>e.id.localeCompare(t.id))},nr=({defaultColor:e,rfId:t})=>{let n=b((0,u.useCallback)(nn({defaultColor:e,rfId:t}),[e,t]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return u.createElement("defs",null,n.map(e=>u.createElement(nt,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};nr.displayName="MarkerDefinitions";var ni=(0,u.memo)(nr);let na=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),no=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:i,edgeTypes:a,noPanClassName:o,onEdgeUpdate:s,onEdgeContextMenu:d,onEdgeMouseEnter:h,onEdgeMouseMove:p,onEdgeMouseLeave:m,onEdgeClick:g,edgeUpdaterRadius:y,onEdgeDoubleClick:_,onEdgeUpdateStart:x,onEdgeUpdateEnd:w,children:S})=>{var E,k,N;let{edgesFocusable:C,edgesUpdatable:M,elementsSelectable:T,width:A,height:O,connectionMode:I,nodeInternals:$,onError:Z}=b(na,f.shallow);let z=(E=t,k=$,N=n,function(e,t,n=!1){let r=-1,i=Object.entries(e.reduce((e,i)=>{let a=D(i.zIndex),o=a?i.zIndex:0;if(n){let e=t.get(i.target),n=t.get(i.source),r=i.selected||e?.selected||n?.selected,s=Math.max(n?.[j]?.z||0,e?.[j]?.z||0,1e3);o=(a?i.zIndex:0)+(r?s:0)}return e[o]?e[o].push(i):e[o]=[i],r=o>r?o:r,e},{})).map(([e,t])=>{let n=+e;return{edges:t,level:n,isMaxLevel:n===r}});return 0===i.length?t8:i}(b((0,u.useCallback)(e=>E?e.edges.filter(t=>{let n=k.get(t.source),r=k.get(t.target);return n?.width&&n?.height&&r?.width&&r?.height&&function({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:a,width:o,height:s,transform:l}){let u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);let c=P({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:s/l[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}({sourcePos:n.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:n.width,sourceHeight:n.height,targetWidth:r.width,targetHeight:r.height,width:e.width,height:e.height,transform:e.transform})}):e.edges,[E,k])),k,N));return A?u.createElement(u.Fragment,null,z.map(({level:t,edges:n,isMaxLevel:f})=>u.createElement("svg",{key:t,style:{zIndex:t},width:A,height:O,className:"react-flow__edges react-flow__container"},f&&u.createElement(ni,{defaultColor:e,rfId:i}),u.createElement("g",null,n.map(e=>{let[t,n,f]=t9($.get(e.source)),[b,S,E]=t9($.get(e.target));if(!f||!E)return null;let k=e.type||"default";!a[k]&&(Z?.("011",v.error011(k)),k="default");let N=a[k]||a.default,A=I===r.Strict?S.target:(S.target??[]).concat(S.source??[]),O=t7(n.source,e.sourceHandle),P=t7(A,e.targetHandle),z=O?.position||l.Bottom,R=P?.position||l.Top,D=!!(e.focusable||C&&void 0===e.focusable),j=void 0!==s&&(e.updatable||M&&void 0===e.updatable);if(!O||!P)return Z?.("008",v.error008(O,e)),null;let{sourceX:L,sourceY:B,targetX:V,targetY:H}=t6(t,O,z,b,P,R);return u.createElement(N,{key:e.id,id:e.id,className:(0,c.default)([e.className,o]),type:k,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:L,sourceY:B,targetX:V,targetY:H,sourcePosition:z,targetPosition:R,elementsSelectable:T,onEdgeUpdate:s,onContextMenu:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:m,onClick:g,edgeUpdaterRadius:y,onEdgeDoubleClick:_,onEdgeUpdateStart:x,onEdgeUpdateEnd:w,rfId:i,ariaLabel:e.ariaLabel,isFocusable:D,isUpdatable:j,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth})})))),S):null};no.displayName="EdgeRenderer";var ns=(0,u.memo)(no);let nl=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function nu({children:e}){let t=b(nl);return u.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}let nc={[l.Left]:l.Right,[l.Right]:l.Left,[l.Top]:l.Bottom,[l.Bottom]:l.Top},nd=({nodeId:e,handleType:t,style:n,type:i=o.Bezier,CustomComponent:a,connectionStatus:s})=>{let{fromNode:l,handleId:c,toX:d,toY:h,connectionMode:p}=b((0,u.useCallback)(t=>({fromNode:t.nodeInternals.get(e),handleId:t.connectionHandleId,toX:(t.connectionPosition.x-t.transform[0])/t.transform[2],toY:(t.connectionPosition.y-t.transform[1])/t.transform[2],connectionMode:t.connectionMode}),[e]),f.shallow),m=l?.[j]?.handleBounds,g=m?.[t];if(p===r.Loose&&(g=g||m?.["source"===t?"target":"source"]),!l||!g)return null;let y=c?g.find(e=>e.id===c):g[0],v=y?y.x+y.width/2:(l.width??0)/2,_=y?y.y+y.height/2:l.height??0,x=(l.positionAbsolute?.x??0)+v,w=(l.positionAbsolute?.y??0)+_,S=y?.position,E=S?nc[S]:null;if(!S||!E)return null;if(a)return u.createElement(a,{connectionLineType:i,connectionLineStyle:n,fromNode:l,fromHandle:y,fromX:x,fromY:w,toX:d,toY:h,fromPosition:S,toPosition:E,connectionStatus:s});let k="",N={sourceX:x,sourceY:w,sourcePosition:S,targetX:d,targetY:h,targetPosition:E};return i===o.Bezier?[k]=eu(N):i===o.Step?[k]=er({...N,borderRadius:0}):i===o.SmoothStep?[k]=er(N):i===o.SimpleBezier?[k]=J(N):k=`M${x},${w} ${d},${h}`,u.createElement("path",{d:k,fill:"none",className:"react-flow__connection-path",style:n})};nd.displayName="ConnectionLine";let nf=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function nh({containerStyle:e,style:t,type:n,component:r}){let{nodeId:i,handleType:a,nodesConnectable:o,width:s,height:l,connectionStatus:d}=b(nf,f.shallow);return i&&a&&s&&o?u.createElement("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},u.createElement("g",{className:(0,c.default)(["react-flow__connection",d])},u.createElement(nd,{nodeId:i,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:d}))):null}function np(e,t){return(0,u.useRef)(null),x(),(0,u.useMemo)(()=>t(e),[e])}let nm=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:a,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:y,connectionLineType:v,connectionLineStyle:_,connectionLineComponent:b,connectionLineContainerStyle:x,selectionKeyCode:w,selectionOnDrag:S,selectionMode:E,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:C,deleteKeyCode:M,onlyRenderVisibleElements:T,elementsSelectable:A,selectNodesOnDrag:O,defaultViewport:I,translateExtent:P,minZoom:$,maxZoom:Z,preventScrolling:z,defaultMarkerColor:R,zoomOnScroll:D,zoomOnPinch:j,panOnScroll:L,panOnScrollSpeed:B,panOnScrollMode:V,zoomOnDoubleClick:H,panOnDrag:F,onPaneClick:U,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneScroll:q,onPaneContextMenu:W,onEdgeUpdate:G,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:et,edgeUpdaterRadius:en,onEdgeUpdateStart:er,onEdgeUpdateEnd:ei,noDragClassName:ea,noWheelClassName:eo,noPanClassName:es,elevateEdgesOnSelect:el,disableKeyboardA11y:eu,nodeOrigin:ec,nodeExtent:ed,rfId:ef})=>{let eh=np(e,tY),ep=np(t,t3);return!function(e){let t=tc(),n=(0,u.useRef)(!1);(0,u.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(a),u.createElement(tK,{onPaneClick:U,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneContextMenu:W,onPaneScroll:q,deleteKeyCode:M,selectionKeyCode:w,selectionOnDrag:S,selectionMode:E,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:C,elementsSelectable:A,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:D,zoomOnPinch:j,zoomOnDoubleClick:H,panOnScroll:L,panOnScrollSpeed:B,panOnScrollMode:V,panOnDrag:F,defaultViewport:I,translateExtent:P,minZoom:$,maxZoom:Z,onSelectionContextMenu:m,preventScrolling:z,noDragClassName:ea,noWheelClassName:eo,noPanClassName:es,disableKeyboardA11y:eu},u.createElement(nu,null,u.createElement(ns,{edgeTypes:ep,onEdgeClick:s,onEdgeDoubleClick:c,onEdgeUpdate:G,onlyRenderVisibleElements:T,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:et,onEdgeUpdateStart:er,onEdgeUpdateEnd:ei,edgeUpdaterRadius:en,defaultMarkerColor:R,noPanClassName:es,elevateEdgesOnSelect:!!el,disableKeyboardA11y:eu,rfId:ef},u.createElement(nh,{style:_,type:v,component:b,containerStyle:x})),u.createElement("div",{className:"react-flow__edgelabel-renderer"}),u.createElement(tG,{nodeTypes:eh,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:O,onlyRenderVisibleElements:T,noPanClassName:es,noDragClassName:ea,disableKeyboardA11y:eu,nodeOrigin:ec,nodeExtent:ed,rfId:ef})))};nm.displayName="GraphView";var ng=(0,u.memo)(nm);let ny=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nv={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ny,nodeExtent:ny,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:B,isValidConnection:void 0},n_=()=>(0,d.createWithEqualityFn)((e,t)=>({...nv,setNodes:n=>{let{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:a}=t();e({nodeInternals:tr(n,r,i,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{let{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>({...r,...e}))})},setDefaultNodesAndEdges:(n,r)=>{let i=void 0!==n,a=void 0!==r,o=i?tr(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:a?r:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:n=>{let{onNodesChange:r,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:o,fitViewOnInitOptions:s,domNode:l,nodeOrigin:u}=t(),c=l?.querySelector(".react-flow__viewport");if(!c)return;let d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce((e,t)=>{let n=i.get(t.id);if(n){let r=N(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(i.set(n.id,{...n,[j]:{...n[j],handleBounds:{source:t$(".source",t.nodeElement,f,u),target:t$(".target",t.nodeElement,f,u)}},...r}),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);tn(i,u);let p=o||a&&!o&&ti(t,{initial:!0,...s});e({nodeInternals:new Map(i),fitViewOnInitDone:p}),h?.length>0&&r?.(h)},updateNodePositions:(e,n=!0,r=!1)=>{let{triggerNodeChanges:i}=t();i(e.map(e=>{let t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}))},triggerNodeChanges:n=>{let{onNodesChange:r,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:o,getNodes:s,elevateNodesOnSelect:l}=t();n?.length&&(a&&e({nodeInternals:tr(tk(n,s()),i,o,l)}),r?.(n))},addSelectedNodes:n=>{let r;let{multiSelectionActive:i,edges:a,getNodes:o}=t(),s=null;i?r=n.map(e=>tN(e,!0)):(r=tC(o(),n),s=tC(a,[])),ta({changedNodes:r,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{let r;let{multiSelectionActive:i,edges:a,getNodes:o}=t(),s=null;i?r=n.map(e=>tN(e,!0)):(r=tC(a,n),s=tC(o(),[])),ta({changedNodes:s,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{let{edges:i,getNodes:a}=t(),o=n||a(),s=o.map(e=>(e.selected=!1,tN(e.id,!1)));ta({changedNodes:s,changedEdges:(r||i).map(e=>tN(e.id,!1)),get:t,set:e})},setMinZoom:n=>{let{d3Zoom:r,maxZoom:i}=t();r?.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{let{d3Zoom:r,minZoom:i}=t();r?.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{let{edges:n,getNodes:r}=t(),i=r().filter(e=>e.selected).map(e=>tN(e.id,!1));ta({changedNodes:i,changedEdges:n.filter(e=>e.selected).map(e=>tN(e.id,!1)),get:t,set:e})},setNodeExtent:n=>{let{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=M(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{let{transform:n,width:r,height:i,d3Zoom:a,d3Selection:o,translateExtent:s}=t();if(!a||!o||!e.x&&!e.y)return!1;let l=h.zoomIdentity.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),u=a?.constrain()(l,[[0,0],[r,i]],s);return a.transform(o,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:nv.connectionNodeId,connectionHandleId:nv.connectionHandleId,connectionHandleType:nv.connectionHandleType,connectionStatus:nv.connectionStatus,connectionStartHandle:nv.connectionStartHandle,connectionEndHandle:nv.connectionEndHandle}),reset:()=>e({...nv})}),Object.is),nb=({children:e})=>{let t=(0,u.useRef)(null);return!t.current&&(t.current=n_()),u.createElement(y,{value:t.current},e)};nb.displayName="ReactFlowProvider";let nx=({children:e})=>(0,u.useContext)(g)?u.createElement(u.Fragment,null,e):u.createElement(nb,null,e);nx.displayName="ReactFlowWrapper";let nw={input:eV,default:eL,output:eF,group:eU},nS={default:ec,straight:eo,step:ea,smoothstep:ei,simplebezier:Q},nE=[0,0],nk=[15,15],nN={x:0,y:0,zoom:1},nC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},nM=(0,u.forwardRef)(({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:l,nodeTypes:d=nw,edgeTypes:f=nS,onNodeClick:h,onEdgeClick:p,onInit:m,onMove:g,onMoveStart:y,onMoveEnd:v,onConnect:_,onConnectStart:b,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:S,onNodeMouseEnter:k,onNodeMouseMove:N,onNodeMouseLeave:C,onNodeContextMenu:M,onNodeDoubleClick:T,onNodeDragStart:A,onNodeDrag:O,onNodeDragStop:I,onNodesDelete:P,onEdgesDelete:$,onSelectionChange:Z,onSelectionDragStart:z,onSelectionDrag:R,onSelectionDragStop:D,onSelectionContextMenu:j,onSelectionStart:L,onSelectionEnd:B,connectionMode:V=r.Strict,connectionLineType:H=o.Bezier,connectionLineStyle:F,connectionLineComponent:U,connectionLineContainerStyle:Y,deleteKeyCode:X="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:W=!1,selectionMode:G=a.Full,panActivationKeyCode:J="Space",multiSelectionKeyCode:Q=K()?"Meta":"Control",zoomActivationKeyCode:ee=K()?"Meta":"Control",snapToGrid:et=!1,snapGrid:en=nk,onlyRenderVisibleElements:er=!1,selectNodesOnDrag:ei=!0,nodesDraggable:ea,nodesConnectable:eo,nodesFocusable:es,nodeOrigin:el=nE,edgesFocusable:eu,edgesUpdatable:ec,elementsSelectable:ed,defaultViewport:ef=nN,minZoom:eh=.5,maxZoom:ep=2,translateExtent:em=ny,preventScrolling:eg=!0,nodeExtent:ey,defaultMarkerColor:ev="#b1b1b7",zoomOnScroll:e_=!0,zoomOnPinch:eb=!0,panOnScroll:ex=!1,panOnScrollSpeed:ew=.5,panOnScrollMode:eS=i.Free,zoomOnDoubleClick:eE=!0,panOnDrag:ek=!0,onPaneClick:eN,onPaneMouseEnter:eC,onPaneMouseMove:eM,onPaneMouseLeave:eT,onPaneScroll:eA,onPaneContextMenu:eO,children:eI,onEdgeUpdate:eP,onEdgeContextMenu:e$,onEdgeDoubleClick:eZ,onEdgeMouseEnter:ez,onEdgeMouseMove:eR,onEdgeMouseLeave:eD,onEdgeUpdateStart:ej,onEdgeUpdateEnd:eL,edgeUpdaterRadius:eB=10,onNodesChange:eV,onEdgesChange:eH,noDragClassName:eF="nodrag",noWheelClassName:eU="nowheel",noPanClassName:eK="nopan",fitView:eY=!1,fitViewOptions:eX,connectOnClick:eq=!0,attributionPosition:eW,proOptions:eJ,defaultEdgeOptions:eQ,elevateNodesOnSelect:e0=!0,elevateEdgesOnSelect:e2=!1,disableKeyboardA11y:e4=!1,autoPanOnConnect:e3=!0,autoPanOnNodeDrag:e5=!0,connectionRadius:e7=20,isValidConnection:e6,onError:e8,style:te,id:tt,nodeDragThreshold:tn,...tr},ti)=>{let ta=tt||"1";return u.createElement("div",{...tr,style:{...te,...nC},ref:ti,className:(0,c.default)(["react-flow",l]),"data-testid":"rf__wrapper",id:tt},u.createElement(nx,null,u.createElement(ng,{onInit:m,onMove:g,onMoveStart:y,onMoveEnd:v,onNodeClick:h,onEdgeClick:p,onNodeMouseEnter:k,onNodeMouseMove:N,onNodeMouseLeave:C,onNodeContextMenu:M,onNodeDoubleClick:T,nodeTypes:d,edgeTypes:f,connectionLineType:H,connectionLineStyle:F,connectionLineComponent:U,connectionLineContainerStyle:Y,selectionKeyCode:q,selectionOnDrag:W,selectionMode:G,deleteKeyCode:X,multiSelectionKeyCode:Q,panActivationKeyCode:J,zoomActivationKeyCode:ee,onlyRenderVisibleElements:er,selectNodesOnDrag:ei,defaultViewport:ef,translateExtent:em,minZoom:eh,maxZoom:ep,preventScrolling:eg,zoomOnScroll:e_,zoomOnPinch:eb,zoomOnDoubleClick:eE,panOnScroll:ex,panOnScrollSpeed:ew,panOnScrollMode:eS,panOnDrag:ek,onPaneClick:eN,onPaneMouseEnter:eC,onPaneMouseMove:eM,onPaneMouseLeave:eT,onPaneScroll:eA,onPaneContextMenu:eO,onSelectionContextMenu:j,onSelectionStart:L,onSelectionEnd:B,onEdgeUpdate:eP,onEdgeContextMenu:e$,onEdgeDoubleClick:eZ,onEdgeMouseEnter:ez,onEdgeMouseMove:eR,onEdgeMouseLeave:eD,onEdgeUpdateStart:ej,onEdgeUpdateEnd:eL,edgeUpdaterRadius:eB,defaultMarkerColor:ev,noDragClassName:eF,noWheelClassName:eU,noPanClassName:eK,elevateEdgesOnSelect:e2,rfId:ta,disableKeyboardA11y:e4,nodeOrigin:el,nodeExtent:ey}),u.createElement(e1,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:_,onConnectStart:b,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:S,nodesDraggable:ea,nodesConnectable:eo,nodesFocusable:es,edgesFocusable:eu,edgesUpdatable:ec,elementsSelectable:ed,elevateNodesOnSelect:e0,minZoom:eh,maxZoom:ep,nodeExtent:ey,onNodesChange:eV,onEdgesChange:eH,snapToGrid:et,snapGrid:en,connectionMode:V,translateExtent:em,connectOnClick:eq,defaultEdgeOptions:eQ,fitView:eY,fitViewOptions:eX,onNodesDelete:P,onEdgesDelete:$,onNodeDragStart:A,onNodeDrag:O,onNodeDragStop:I,onSelectionDrag:R,onSelectionDragStart:z,onSelectionDragStop:D,noPanClassName:eK,nodeOrigin:el,rfId:ta,autoPanOnConnect:e3,autoPanOnNodeDrag:e5,onError:e8,connectionRadius:e7,isValidConnection:e6,nodeDragThreshold:tn}),u.createElement(eG,{onSelectionChange:Z}),eI,u.createElement(E,{proOptions:eJ,position:eW}),u.createElement(e9,{rfId:ta,disableKeyboardA11y:e4})))});function nT(e){return t=>{let[n,r]=(0,u.useState)(t),i=(0,u.useCallback)(t=>r(n=>e(t,n)),[]);return[n,r,i]}}nM.displayName="ReactFlow",nT(tk),nT(function(e,t){return tE(e,t)})},22978:function(e,t,n){"use strict";n.r(t),n("2363"),n("61850")},98774:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return function e(t){if("string"==typeof t||"number"==typeof t)return""+t;let n="";if(Array.isArray(t))for(let r=0,i;r<t.length;r++)(i=e(t[r]))!==""&&(n+=(n&&" ")+i);else for(let e in t)t[e]&&(n+=(n&&" ")+e);return n}}})},34327:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _},rgb:function(){return w}});var r=n("77532");function i(){}var a=1.4285714285714286,o="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,c=RegExp(`^rgb\\(${o},${o},${o}\\)$`),d=RegExp(`^rgb\\(${l},${l},${l}\\)$`),f=RegExp(`^rgba\\(${o},${o},${o},${s}\\)$`),h=RegExp(`^rgba\\(${l},${l},${l},${s}\\)$`),p=RegExp(`^hsl\\(${s},${l},${l}\\)$`),m=RegExp(`^hsla\\(${s},${l},${l},${s}\\)$`),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}(0,r.default)(i,_,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return A(this).formatHsl()},formatRgb:v,toString:v});function v(){return this.rgb().formatRgb()}function _(e){var t,n;return(t=u.exec(e=(e+"").trim().toLowerCase()))?(n=t[1].length,t=parseInt(t[1],16),6===n?b(t):3===n?new S(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?x(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?x(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new S(t[1],t[2],t[3],1):(t=d.exec(e))?new S(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=f.exec(e))?x(t[1],t[2],t[3],t[4]):(t=h.exec(e))?x(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=p.exec(e))?T(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?T(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?b(g[e]):"transparent"===e?new S(NaN,NaN,NaN,0):null}function b(e){return new S(e>>16&255,e>>8&255,255&e,1)}function x(e,t,n,r){return r<=0&&(e=t=n=NaN),new S(e,t,n,r)}function w(e,t,n,r){var a;return 1==arguments.length?(!((a=e)instanceof i)&&(a=_(a)),a)?new S((a=a.rgb()).r,a.g,a.b,a.opacity):new S:new S(e,t,n,null==r?1:r)}function S(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(){return`#${M(this.r)}${M(this.g)}${M(this.b)}`}(0,r.default)(S,w,(0,r.extend)(i,{brighter(e){return e=null==e?a:Math.pow(a,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new S(C(this.r),C(this.g),C(this.b),N(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatHex8:function(){return`#${M(this.r)}${M(this.g)}${M(this.b)}${M((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:k,toString:k}));function k(){let e=N(this.opacity);return`${1===e?"rgb(":"rgba("}${C(this.r)}, ${C(this.g)}, ${C(this.b)}${1===e?")":`, ${e})`}`}function N(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function C(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function M(e){return((e=C(e))<16?"0":"")+e.toString(16)}function T(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new O(e,t,n,r)}function A(e){if(e instanceof O)return new O(e.h,e.s,e.l,e.opacity);if(!(e instanceof i)&&(e=_(e)),!e)return new O;if(e instanceof O)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-a,u=(o+a)/2;return l?(s=t===o?(n-r)/l+(n<r)*6:n===o?(r-t)/l+2:(t-n)/l+4,l/=u<.5?o+a:2-o-a,s*=60):l=u>0&&u<1?0:s,new O(s,l,u,e.opacity)}function O(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function I(e){return(e=(e||0)%360)<0?e+360:e}function P(e){return Math.max(0,Math.min(1,e||0))}function $(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}(0,r.default)(O,function(e,t,n,r){return 1==arguments.length?A(e):new O(e,t,n,null==r?1:r)},(0,r.extend)(i,{brighter(e){return e=null==e?a:Math.pow(a,e),new O(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new O(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new S($(e>=240?e-240:e+120,i,r),$(e,i,r),$(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new O(I(this.h),P(this.s),P(this.l),N(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=N(this.opacity);return`${1===e?"hsl(":"hsla("}${I(this.h)}, ${100*P(this.s)}%, ${100*P(this.l)}%${1===e?")":`, ${e})`}`}}))},77532:function(e,t,n){"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.r(t),n.d(t,{default:function(){return r},extend:function(){return i}})},69797:function(e,t,n){"use strict";n.r(t),n.d(t,{color:function(){return r.default},rgb:function(){return r.rgb}});var r=n("34327")},67074:function(e,t,n){"use strict";n.r(t);var r={value:()=>{}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new a(r)}function a(e){this._=e}a.prototype=i.prototype={constructor:a,on:function(e,t){var n,r,i,a=this._,s=(n=e+"",r=a,n.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}})),l=-1,u=s.length;if(arguments.length<2){for(;++l<u;)if((i=(e=s[l]).type)&&(i=function(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}(a[i],e.name)))return i;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++l<u;)if(i=(e=s[l]).type)a[i]=o(a[i],e.name,t);else if(null==t)for(i in a)a[i]=o(a[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new a(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],a=0,n=r.length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function o(e,t,n){for(var i=0,a=e.length;i<a;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}t.default=i},61149:function(e,t,n){"use strict";n.r(t),n.d(t,{dispatch:function(){return r.default}});var r=n("67074")},70765:function(e,t,n){"use strict";n.r(t),t.default=e=>()=>e},44075:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n("61149"),i=n("41704"),a=n("71166"),o=n("22921"),s=n("70765"),l=n("20975");function u(e){return!e.ctrlKey&&!e.button}function c(){return this.parentNode}function d(e,t){return null==t?{x:e.x,y:e.y}:t}function f(){return navigator.maxTouchPoints||"ontouchstart"in this}function h(){var e,t,n,h,p=u,m=c,g=d,y=f,v={},_=(0,r.dispatch)("start","drag","end"),b=0,x=0;function w(e){e.on("mousedown.drag",S).filter(y).on("touchstart.drag",N).on("touchmove.drag",C,o.nonpassive).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(r,s){if(!h&&!!p.call(this,r,s)){var l=T(this,m.call(this,r,s),r,s,"mouse");l&&((0,i.select)(r.view).on("mousemove.drag",E,o.nonpassivecapture).on("mouseup.drag",k,o.nonpassivecapture),(0,a.default)(r.view),(0,o.nopropagation)(r),n=!1,e=r.clientX,t=r.clientY,l("start",r))}}function E(r){if((0,o.default)(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>x}v.mouse("drag",r)}function k(e){(0,i.select)(e.view).on("mousemove.drag mouseup.drag",null),(0,a.yesdrag)(e.view,n),(0,o.default)(e),v.mouse("end",e)}function N(e,t){if(p.call(this,e,t)){var n,r,i=e.changedTouches,a=m.call(this,e,t),s=i.length;for(n=0;n<s;++n)(r=T(this,a,e,t,i[n].identifier,i[n]))&&((0,o.nopropagation)(e),r("start",e,i[n]))}}function C(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=v[r[t].identifier])&&((0,o.default)(e),n("drag",e,r[t]))}function M(e){var t,n,r=e.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),t=0;t<i;++t)(n=v[r[t].identifier])&&((0,o.nopropagation)(e),n("end",e,r[t]))}function T(e,t,n,r,a,o){var s,u,c,d=_.copy(),f=(0,i.pointer)(o||n,t);if((c=g.call(e,new l.default("beforestart",{sourceEvent:n,target:w,identifier:a,active:b,x:f[0],y:f[1],dx:0,dy:0,dispatch:d}),r))!=null)return s=c.x-f[0]||0,u=c.y-f[1]||0,function n(o,h,p){var m,g=f;switch(o){case"start":v[a]=n,m=b++;break;case"end":delete v[a],--b;case"drag":f=(0,i.pointer)(p||h,t),m=b}d.call(o,e,new l.default(o,{sourceEvent:h,subject:c,target:w,identifier:a,active:m,x:f[0]+s,y:f[1]+u,dx:f[0]-g[0],dy:f[1]-g[1],dispatch:d}),r)}}return w.filter=function(e){return arguments.length?(p="function"==typeof e?e:(0,s.default)(!!e),w):p},w.container=function(e){return arguments.length?(m="function"==typeof e?e:(0,s.default)(e),w):m},w.subject=function(e){return arguments.length?(g="function"==typeof e?e:(0,s.default)(e),w):g},w.touchable=function(e){return arguments.length?(y="function"==typeof e?e:(0,s.default)(!!e),w):y},w.on=function(){var e=_.on.apply(_,arguments);return e===_?w:e},w.clickDistance=function(e){return arguments.length?(x=(e=+e)*e,w):Math.sqrt(x)},w}},20975:function(e,t,n){"use strict";function r(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}n.r(t),n.d(t,{default:function(){return r}}),r.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},7081:function(e,t,n){"use strict";n.r(t),n.d(t,{drag:function(){return r.default},dragDisable:function(){return i.default},dragEnable:function(){return i.yesdrag}});var r=n("44075"),i=n("71166")},71166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a},yesdrag:function(){return o}});var r=n("41704"),i=n("22921");function a(e){var t=e.document.documentElement,n=(0,r.select)(e).on("dragstart.drag",i.default,i.nonpassivecapture);"onselectstart"in t?n.on("selectstart.drag",i.default,i.nonpassivecapture):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function o(e,t){var n=e.document.documentElement,a=(0,r.select)(e).on("dragstart.drag",null);t&&(a.on("click.drag",i.default,i.nonpassivecapture),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},22921:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o},nonpassive:function(){return r},nonpassivecapture:function(){return i},nopropagation:function(){return a}});let r={passive:!1},i={capture:!0,passive:!1};function a(e){e.stopImmediatePropagation()}function o(e){e.preventDefault(),e.stopImmediatePropagation()}},19925:function(e,t,n){"use strict";function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}n.r(t),n.d(t,{cubicInOut:function(){return r}})},54076:function(e,t,n){"use strict";n.r(t),n.d(t,{easeCubicInOut:function(){return r.cubicInOut}});var r=n("19925")},79622:function(e,t,n){"use strict";function r(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function i(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[i],o=e[i+1],s=i>0?e[i-1]:2*a-o,l=i<t-1?e[i+2]:2*o-a;return r((n-i/t)*t,s,a,o,l)}}n.r(t),n.d(t,{basis:function(){return r},default:function(){return i}})},12330:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("79622");function i(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),a=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],l=e[(i+2)%t];return(0,r.basis)((n-i/t)*t,a,o,s,l)}}},36613:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a},gamma:function(){return i}});var r=n("99402");function i(e){return(e=+e)===1?a:function(t,n){var i,a,o;return n-t?(i=t,a=n,i=Math.pow(i,o=e),a=Math.pow(a,o)-i,o=1/o,function(e){return Math.pow(i+e*a,o)}):(0,r.default)(isNaN(t)?n:t)}}function a(e,t){var n,i,a=t-e;return a?(n=e,i=a,function(e){return n+e*i}):(0,r.default)(isNaN(e)?t:e)}},99402:function(e,t,n){"use strict";n.r(t),t.default=e=>()=>e},73062:function(e,t,n){"use strict";n.r(t),n.d(t,{interpolateNumber:function(){return r.default},interpolateRgb:function(){return s.default},interpolateString:function(){return i.default},interpolateTransformCss:function(){return a.interpolateTransformCss},interpolateTransformSvg:function(){return a.interpolateTransformSvg},interpolateZoom:function(){return o.default}});var r=n("70548"),i=n("43406"),a=n("90090"),o=n("48366"),s=n("10617")},70548:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.r(t),n.d(t,{default:function(){return r}})},10617:function(e,t,n){"use strict";n.r(t);var r=n("69797"),i=n("79622"),a=n("12330"),o=n("36613");function s(e){return function(t){var n,i,a=t.length,o=Array(a),s=Array(a),l=Array(a);for(n=0;n<a;++n)i=(0,r.rgb)(t[n]),o[n]=i.r||0,s[n]=i.g||0,l[n]=i.b||0;return o=e(o),s=e(s),l=e(l),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=l(e),i+""}}}t.default=function e(t){var n=(0,o.gamma)(t);function i(e,t){var i=n((e=(0,r.rgb)(e)).r,(t=(0,r.rgb)(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),l=(0,o.default)(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=s(t),e.opacity=l(t),e+""}}return i.gamma=e,i}(1),s(i.default),s(a.default)},43406:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("70548"),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=RegExp(i.source,"g");function o(e,t){var n,o,s,l,u,c=i.lastIndex=a.lastIndex=0,d=-1,f=[],h=[];for(e+="",t+="";(s=i.exec(e))&&(l=a.exec(t));)(u=l.index)>c&&(u=t.slice(c,u),f[d]?f[d]+=u:f[++d]=u),(s=s[0])===(l=l[0])?f[d]?f[d]+=l:f[++d]=l:(f[++d]=null,h.push({i:d,x:(0,r.default)(s,l)})),c=a.lastIndex;return c<t.length&&(u=t.slice(c),f[d]?f[d]+=u:f[++d]=u),f.length<2?h[0]?(n=h[0].x,function(e){return n(e)+""}):(o=t,function(){return o}):(t=h.length,function(e){for(var n,r=0;r<t;++r)f[(n=h[r]).i]=n.x(e);return f.join("")})}},54528:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a},identity:function(){return i}});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a(e,t,n,i,a,o){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*i)&&(n-=e*u,i-=t*u),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,u/=l),e*i<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*r,skewX:Math.atan(u)*r,scaleX:s,scaleY:l}}},90090:function(e,t,n){"use strict";n.r(t),n.d(t,{interpolateTransformCss:function(){return o},interpolateTransformSvg:function(){return s}});var r=n("70548"),i=n("90655");function a(e,t,n,i){function a(e){return e.length?e.pop()+" ":""}return function(o,s){var l,u,c,d,f,h,p,m,g=[],y=[];return o=e(o),s=e(s),!function(e,i,a,o,s,l){if(e!==a||i!==o){var u=s.push("translate(",null,t,null,n);l.push({i:u-4,x:(0,r.default)(e,a)},{i:u-2,x:(0,r.default)(i,o)})}else(a||o)&&s.push("translate("+a+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,g,y),l=o.rotate,u=s.rotate,c=g,d=y,l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),d.push({i:c.push(a(c)+"rotate(",null,i)-2,x:(0,r.default)(l,u)})):u&&c.push(a(c)+"rotate("+u+i),f=o.skewX,h=s.skewX,p=g,m=y,f!==h?m.push({i:p.push(a(p)+"skewX(",null,i)-2,x:(0,r.default)(f,h)}):h&&p.push(a(p)+"skewX("+h+i),!function(e,t,n,i,o,s){if(e!==n||t!==i){var l=o.push(a(o)+"scale(",null,",",null,")");s.push({i:l-4,x:(0,r.default)(e,n)},{i:l-2,x:(0,r.default)(t,i)})}else(1!==n||1!==i)&&o.push(a(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,g,y),o=s=null,function(e){for(var t,n=-1,r=y.length;++n<r;)g[(t=y[n]).i]=t.x(e);return g.join("")}}}var o=a(i.parseCss,"px, ","px)","deg)"),s=a(i.parseSvg,", ",")",")")},90655:function(e,t,n){"use strict";n.r(t),n.d(t,{parseCss:function(){return a},parseSvg:function(){return o}});var r,i=n("54528");function a(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?i.identity:(0,i.default)(t.a,t.b,t.c,t.d,t.e,t.f)}function o(e){return null==e?i.identity:(!r&&(r=document.createElementNS("http://www.w3.org/2000/svg","g")),r.setAttribute("transform",e),e=r.transform.baseVal.consolidate())?(e=e.matrix,(0,i.default)(e.a,e.b,e.c,e.d,e.e,e.f)):i.identity}},48366:function(e,t,n){"use strict";n.r(t);function r(e){return((e=Math.exp(e))+1/e)/2}t.default=function e(t,n,i){function a(e,a){var o,s,l=e[0],u=e[1],c=e[2],d=a[0],f=a[1],h=a[2],p=d-l,m=f-u,g=p*p+m*m;if(g<1e-12)s=Math.log(h/c)/t,o=function(e){return[l+e*p,u+e*m,c*Math.exp(t*e*s)]};else{var y=Math.sqrt(g),v=(h*h-c*c+i*g)/(2*c*n*y),_=(h*h-c*c-i*g)/(2*h*n*y),b=Math.log(Math.sqrt(v*v+1)-v);s=(Math.log(Math.sqrt(_*_+1)-_)-b)/t,o=function(e){var i,a,o=e*s,d=r(b),f=c/(n*y)*(d*(i=t*o+b,((i=Math.exp(2*i))-1)/(i+1))-(a=b,((a=Math.exp(a))-1/a)/2));return[l+f*p,u+f*m,c*d/r(t*o+b)]}}return o.duration=1e3*s*t/Math.SQRT2,o}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4)},73808:function(e,t,n){"use strict";function r(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}n.r(t),n.d(t,{default:function(){return r}})},16030:function(e,t,n){"use strict";function r(e){return function(){return e}}n.r(t),n.d(t,{default:function(){return r}})},16383:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n("54166"),i=n("50244");function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===i.xhtml&&t.documentElement.namespaceURI===i.xhtml?t.createElement(e):t.createElementNS(n,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function s(e){var t=(0,r.default)(e);return(t.local?o:a)(t)}},41704:function(e,t,n){"use strict";n.r(t),n.d(t,{matcher:function(){return r.default},namespace:function(){return i.default},pointer:function(){return a.default},select:function(){return o.default},selection:function(){return s.default},selector:function(){return l.default},selectorAll:function(){return u.default},style:function(){return c.styleValue}});var r=n("87594"),i=n("54166"),a=n("14776"),o=n("3374"),s=n("80724"),l=n("56353"),u=n("87438"),c=n("61928")},87594:function(e,t,n){"use strict";function r(e){return function(){return this.matches(e)}}function i(e){return function(t){return t.matches(e)}}n.r(t),n.d(t,{childMatcher:function(){return i},default:function(){return r}})},54166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("50244");function i(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),r.default.hasOwnProperty(t)?{space:r.default[t],local:e}:e}},50244:function(e,t,n){"use strict";n.r(t),n.d(t,{xhtml:function(){return r}});var r="http://www.w3.org/1999/xhtml";t.default={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},14776:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("15711");function i(e,t){if(e=(0,r.default)(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}},3374:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("80724");function i(e){return"string"==typeof e?new r.Selection([[document.querySelector(e)]],[document.documentElement]):new r.Selection([[e]],r.root)}},36176:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("16383");function i(e){var t="function"==typeof e?e:(0,r.default)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},79592:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n("54166");function i(e){return function(){this.removeAttribute(e)}}function a(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function s(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function l(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function u(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function c(e,t){var n=(0,r.default)(e);if(arguments.length<2){var c=this.node();return n.local?c.getAttributeNS(n.space,n.local):c.getAttribute(n)}return this.each((null==t?n.local?a:i:"function"==typeof t?n.local?u:l:n.local?s:o)(n,t))}},54138:function(e,t,n){"use strict";function r(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}n.r(t),n.d(t,{default:function(){return r}})},8757:function(e,t,n){"use strict";function r(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new a(e)}function a(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function o(e,t){for(var n=i(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function s(e,t){for(var n=i(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function l(e){return function(){o(this,e)}}function u(e){return function(){s(this,e)}}function c(e,t){return function(){(t.apply(this,arguments)?o:s)(this,e)}}function d(e,t){var n=r(e+"");if(arguments.length<2){for(var a=i(this.node()),o=-1,s=n.length;++o<s;)if(!a.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?c:t?l:u)(n,t))}n.r(t),n.d(t,{default:function(){return d}}),a.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}},36481:function(e,t,n){"use strict";function r(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function i(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function a(e){return this.select(e?i:r)}n.r(t),n.d(t,{default:function(){return a}})},69307:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n("80724"),i=n("14957"),a=n("16030");function o(e,t,n,r,a,o){for(var s,l=0,u=t.length,c=o.length;l<c;++l)(s=t[l])?(s.__data__=o[l],r[l]=s):n[l]=new i.EnterNode(e,o[l]);for(;l<u;++l)(s=t[l])&&(a[l]=s)}function s(e,t,n,r,a,o,s){var l,u,c,d=new Map,f=t.length,h=o.length,p=Array(f);for(l=0;l<f;++l)(u=t[l])&&(p[l]=c=s.call(u,u.__data__,l,t)+"",d.has(c)?a[l]=u:d.set(c,u));for(l=0;l<h;++l)c=s.call(e,o[l],l,o)+"",(u=d.get(c))?(r[l]=u,u.__data__=o[l],d.delete(c)):n[l]=new i.EnterNode(e,o[l]);for(l=0;l<f;++l)(u=t[l])&&d.get(p[l])===u&&(a[l]=u)}function l(e){return e.__data__}function u(e,t){if(!arguments.length)return Array.from(this,l);var n=t?s:o,i=this._parents,u=this._groups;"function"!=typeof e&&(e=(0,a.default)(e));for(var c=u.length,d=Array(c),f=Array(c),h=Array(c),p=0;p<c;++p){var m=i[p],g=u[p],y=g.length,v=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e.call(m,m&&m.__data__,p,i)),_=v.length,b=f[p]=Array(_),x=d[p]=Array(_);n(m,g,b,x,h[p]=Array(y),v,t);for(var w,S,E=0,k=0;E<_;++E)if(w=b[E]){for(E>=k&&(k=E+1);!(S=x[k])&&++k<_;);w._next=S||null}}return(d=new r.Selection(d,i))._enter=f,d._exit=h,d}},87847:function(e,t,n){"use strict";function r(e){return arguments.length?this.property("__data__",e):this.node().__data__}n.r(t),n.d(t,{default:function(){return r}})},68454:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n("46103");function i(e,t,n){var i=(0,r.default)(e),a=i.CustomEvent;"function"==typeof a?a=new a(t,n):(a=i.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function a(e,t){return function(){return i(this,e,t)}}function o(e,t){return function(){return i(this,e,t.apply(this,arguments))}}function s(e,t){return this.each(("function"==typeof t?o:a)(e,t))}},50154:function(e,t,n){"use strict";function r(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}n.r(t),n.d(t,{default:function(){return r}})},17065:function(e,t,n){"use strict";function r(){return!this.node()}n.r(t),n.d(t,{default:function(){return r}})},14957:function(e,t,n){"use strict";n.r(t),n.d(t,{EnterNode:function(){return o},default:function(){return a}});var r=n("38922"),i=n("80724");function a(){return new i.Selection(this._enter||this._groups.map(r.default),this._parents)}function o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}o.prototype={constructor:o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},64127:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n("38922"),i=n("80724");function a(){return new i.Selection(this._exit||this._groups.map(r.default),this._parents)}},19123:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n("80724"),i=n("87594");function a(e){"function"!=typeof e&&(e=(0,i.default)(e));for(var t=this._groups,n=t.length,a=Array(n),o=0;o<n;++o)for(var s,l=t[o],u=l.length,c=a[o]=[],d=0;d<u;++d)(s=l[d])&&e.call(s,s.__data__,d,l)&&c.push(s);return new r.Selection(a,this._parents)}},3840:function(e,t,n){"use strict";function r(){this.innerHTML=""}function i(e){return function(){this.innerHTML=e}}function a(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?a:i)(e)):this.node().innerHTML}n.r(t),n.d(t,{default:function(){return o}})},80724:function(e,t,n){"use strict";n.r(t),n.d(t,{Selection:function(){return D},root:function(){return R}});var r=n("55846"),i=n("42998"),a=n("50187"),o=n("78449"),s=n("19123"),l=n("69307"),u=n("14957"),c=n("64127"),d=n("23213"),f=n("60830"),h=n("31155"),p=n("53798"),m=n("54138"),g=n("201"),y=n("36256"),v=n("70939"),_=n("17065"),b=n("50154"),x=n("79592"),w=n("61928"),S=n("57699"),E=n("8757"),k=n("64511"),N=n("3840"),C=n("46997"),M=n("45454"),T=n("36176"),A=n("62514"),O=n("74985"),I=n("36481"),P=n("87847"),$=n("62922"),Z=n("68454"),z=n("77455"),R=[null];function D(e,t){this._groups=e,this._parents=t}function j(){return new D([[document.documentElement]],R)}D.prototype=j.prototype={constructor:D,select:r.default,selectAll:i.default,selectChild:a.default,selectChildren:o.default,filter:s.default,data:l.default,enter:u.default,exit:c.default,join:d.default,merge:f.default,selection:function(){return this},order:h.default,sort:p.default,call:m.default,nodes:g.default,node:y.default,size:v.default,empty:_.default,each:b.default,attr:x.default,style:w.default,property:S.default,classed:E.default,text:k.default,html:N.default,raise:C.default,lower:M.default,append:T.default,insert:A.default,remove:O.default,clone:I.default,datum:P.default,on:$.default,dispatch:Z.default,[Symbol.iterator]:z.default},t.default=j},62514:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("16383"),i=n("56353");function a(){return null}function o(e,t){var n="function"==typeof e?e:(0,r.default)(e),o=null==t?a:"function"==typeof t?t:(0,i.default)(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}},77455:function(e,t,n){"use strict";function*r(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}n.r(t),n.d(t,{default:function(){return r}})},23213:function(e,t,n){"use strict";function r(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i}n.r(t),n.d(t,{default:function(){return r}})},45454:function(e,t,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function i(){return this.each(r)}n.r(t),n.d(t,{default:function(){return i}})},60830:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("80724");function i(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,a=n.length,o=i.length,s=Math.min(a,o),l=Array(a),u=0;u<s;++u)for(var c,d=n[u],f=i[u],h=d.length,p=l[u]=Array(h),m=0;m<h;++m)(c=d[m]||f[m])&&(p[m]=c);for(;u<a;++u)l[u]=n[u];return new r.Selection(l,this._parents)}},36256:function(e,t,n){"use strict";function r(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}n.r(t),n.d(t,{default:function(){return r}})},201:function(e,t,n){"use strict";function r(){return Array.from(this)}n.r(t),n.d(t,{default:function(){return r}})},62922:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});function r(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)(!e.type||(n=t[r]).type===e.type)&&n.name===e.name?this.removeEventListener(n.type,n.listener,n.options):t[++i]=n;++i?t.length=i:delete this.__on}}}function i(e,t,n){return function(){var r,i,a=this.__on,o=(r=t,function(e){r.call(this,e,this.__data__)});if(a){for(var s=0,l=a.length;s<l;++s)if((i=a[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},a?a.push(i):this.__on=[i]}}function a(e,t,n){var a,o,s=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),l=s.length;if(arguments.length<2){var u=this.node().__on;if(u){for(var c,d=0,f=u.length;d<f;++d)for(a=0,c=u[d];a<l;++a)if((o=s[a]).type===c.type&&o.name===c.name)return c.value}return}for(a=0,u=t?i:r;a<l;++a)this.each(u(s[a],t,n));return this}},31155:function(e,t,n){"use strict";function r(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}n.r(t),n.d(t,{default:function(){return r}})},57699:function(e,t,n){"use strict";function r(e){return function(){delete this[e]}}function i(e,t){return function(){this[e]=t}}function a(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function o(e,t){return arguments.length>1?this.each((null==t?r:"function"==typeof t?a:i)(e,t)):this.node()[e]}n.r(t),n.d(t,{default:function(){return o}})},46997:function(e,t,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}function i(){return this.each(r)}n.r(t),n.d(t,{default:function(){return i}})},74985:function(e,t,n){"use strict";function r(){var e=this.parentNode;e&&e.removeChild(this)}function i(){return this.each(r)}n.r(t),n.d(t,{default:function(){return i}})},55846:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n("80724"),i=n("56353");function a(e){"function"!=typeof e&&(e=(0,i.default)(e));for(var t=this._groups,n=t.length,a=Array(n),o=0;o<n;++o)for(var s,l,u=t[o],c=u.length,d=a[o]=Array(c),f=0;f<c;++f)(s=u[f])&&(l=e.call(s,s.__data__,f,u))&&("__data__"in s&&(l.__data__=s.__data__),d[f]=l);return new r.Selection(a,this._parents)}},42998:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("80724"),i=n("73808"),a=n("87438");function o(e){if("function"==typeof e){var t;t=e,e=function(){return(0,i.default)(t.apply(this,arguments))}}else e=(0,a.default)(e);for(var n=this._groups,o=n.length,s=[],l=[],u=0;u<o;++u)for(var c,d=n[u],f=d.length,h=0;h<f;++h)(c=d[h])&&(s.push(e.call(c,c.__data__,h,d)),l.push(c));return new r.Selection(s,l)}},50187:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("87594"),i=Array.prototype.find;function a(){return this.firstElementChild}function o(e){var t;return this.select(null==e?a:(t="function"==typeof e?e:(0,r.childMatcher)(e),function(){return i.call(this.children,t)}))}},78449:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("87594"),i=Array.prototype.filter;function a(){return Array.from(this.children)}function o(e){var t;return this.selectAll(null==e?a:(t="function"==typeof e?e:(0,r.childMatcher)(e),function(){return i.call(this.children,t)}))}},70939:function(e,t,n){"use strict";function r(){let e=0;for(let t of this)++e;return e}n.r(t),n.d(t,{default:function(){return r}})},53798:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("80724");function i(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}!e&&(e=a);for(var n=this._groups,i=n.length,o=Array(i),s=0;s<i;++s){for(var l,u=n[s],c=u.length,d=o[s]=Array(c),f=0;f<c;++f)(l=u[f])&&(d[f]=l);d.sort(t)}return new r.Selection(o,this._parents).order()}function a(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},38922:function(e,t,n){"use strict";function r(e){return Array(e.length)}n.r(t),n.d(t,{default:function(){return r}})},61928:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s},styleValue:function(){return l}});var r=n("46103");function i(e){return function(){this.style.removeProperty(e)}}function a(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function s(e,t,n){return arguments.length>1?this.each((null==t?i:"function"==typeof t?o:a)(e,t,null==n?"":n)):l(this.node(),e)}function l(e,t){return e.style.getPropertyValue(t)||(0,r.default)(e).getComputedStyle(e,null).getPropertyValue(t)}},64511:function(e,t,n){"use strict";function r(){this.textContent=""}function i(e){return function(){this.textContent=e}}function a(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?a:i)(e)):this.node().textContent}n.r(t),n.d(t,{default:function(){return o}})},56353:function(e,t,n){"use strict";function r(){}function i(e){return null==e?r:function(){return this.querySelector(e)}}n.r(t),n.d(t,{default:function(){return i}})},87438:function(e,t,n){"use strict";function r(){return[]}function i(e){return null==e?r:function(){return this.querySelectorAll(e)}}n.r(t),n.d(t,{default:function(){return i}})},15711:function(e,t,n){"use strict";function r(e){let t;for(;t=e.sourceEvent;)e=t;return e}n.r(t),n.d(t,{default:function(){return r}})},46103:function(e,t,n){"use strict";function r(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.r(t),n.d(t,{default:function(){return r}})},48946:function(e,t,n){"use strict";n.r(t),n.d(t,{now:function(){return r.now},timeout:function(){return i.default},timer:function(){return r.timer}});var r=n("55647"),i=n("39297")},39297:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("55647");function i(e,t,n){var i=new r.Timer;return t=null==t?0:+t,i.restart(n=>{i.stop(),e(n+t)},t,n),i}},55647:function(e,t,n){"use strict";n.r(t),n.d(t,{Timer:function(){return m},now:function(){return h},timer:function(){return g}});var r,i,a=0,o=0,s=0,l=0,u=0,c=0,d="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return u||(f(p),u=d.now()+c)}function p(){u=0}function m(){this._call=this._time=this._next=null}function g(e,t,n){var r=new m;return r.restart(e,t,n),r}m.prototype=g.prototype={constructor:m,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),!this._next&&i!==this&&(i?i._next=this:r=this,i=this),this._call=e,this._time=n,_()},stop:function(){this._call&&(this._call=null,this._time=1/0,_())}};function y(){u=(l=d.now())+c,a=o=0;try{!function(){h(),++a;for(var e,t=r;t;)(e=u-t._time)>=0&&t._call.call(void 0,e),t=t._next;--a}()}finally{a=0,function(){for(var e,t,n=r,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,_(a)}(),u=0}}function v(){var e=d.now(),t=e-l;t>1e3&&(c-=t,l=e)}function _(e){!a&&(o&&(o=clearTimeout(o)),e-u>24?(e<1/0&&(o=setTimeout(y,e-d.now()-c)),s&&(s=clearInterval(s))):(!s&&(l=d.now(),s=setInterval(v,1e3)),a=1,f(y)))}},98698:function(e,t,n){"use strict";n.r(t),n.d(t,{interrupt:function(){return r.default}}),n("18878");var r=n("27996")},27996:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("69722");function i(e,t){var n,i,a,o=e.__transition,s=!0;if(o){for(a in t=null==t?null:t+"",o){if((n=o[a]).name!==t){s=!1;continue}i=n.state>r.STARTING&&n.state<r.ENDING,n.state=r.ENDED,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[a]}s&&delete e.__transition}}},18878:function(e,t,n){"use strict";n.r(t);var r=n("41704"),i=n("78414"),a=n("23070");r.selection.prototype.interrupt=i.default,r.selection.prototype.transition=a.default},78414:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("27996");function i(e){return this.each(function(){(0,r.default)(this,e)})}},23070:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n("72932"),i=n("69722"),a=n("54076"),o=n("48946"),s={time:null,delay:0,duration:250,ease:a.easeCubicInOut};function l(e){var t,n;e instanceof r.Transition?(t=e._id,e=e._name):(t=(0,r.newId)(),(n=s).time=(0,o.now)(),e=null==e?null:e+"");for(var a=this._groups,l=a.length,u=0;u<l;++u)for(var c,d=a[u],f=d.length,h=0;h<f;++h)(c=d[h])&&(0,i.default)(c,e,t,h,d,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}(c,t));return new r.Transition(a,this._parents,e,t)}},54617:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n("73062"),i=n("41704"),a=n("18407"),o=n("31361");function s(e){return function(){this.removeAttribute(e)}}function l(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function c(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function d(e,t,n){var r,i,a;return function(){var o,s,l=n(this);return null==l?void this.removeAttribute(e):(o=this.getAttribute(e),o===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function f(e,t,n){var r,i,a;return function(){var o,s,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),o===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function h(e,t){var n=(0,i.namespace)(e),h="transform"===n?r.interpolateTransformSvg:o.default;return this.attrTween(e,"function"==typeof t?(n.local?f:d)(n,h,(0,a.tweenValue)(this,"attr."+e,t)):null==t?(n.local?l:s)(n):(n.local?c:u)(n,h,t))}},37296:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("41704");function i(e,t){var n,r;function i(){var i,a,o=t.apply(this,arguments);if(o!==r){;n=(r=o)&&(i=e,a=o,function(e){this.setAttributeNS(i.space,i.local,a.call(this,e))})}return n}return i._value=t,i}function a(e,t){var n,r;function i(){var i,a,o=t.apply(this,arguments);if(o!==r){;n=(r=o)&&(i=e,a=o,function(e){this.setAttribute(i,a.call(this,e))})}return n}return i._value=t,i}function o(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var o=(0,r.namespace)(e);return this.tween(n,(o.local?i:a)(o,t))}},26234:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("69722");function i(e,t){return function(){(0,r.init)(this,e).delay=+t.apply(this,arguments)}}function a(e,t){return t=+t,function(){(0,r.init)(this,e).delay=t}}function o(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?i:a)(t,e)):(0,r.get)(this.node(),t).delay}},89564:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("69722");function i(e,t){return function(){(0,r.set)(this,e).duration=+t.apply(this,arguments)}}function a(e,t){return t=+t,function(){(0,r.set)(this,e).duration=t}}function o(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?i:a)(t,e)):(0,r.get)(this.node(),t).duration}},83100:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("69722");function i(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){(0,r.set)(this,e).ease=t}}(t,e)):(0,r.get)(this.node(),t).ease}},80418:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("69722");function i(e){var t,n;if("function"!=typeof e)throw Error();return this.each((t=this._id,n=e,function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw Error();(0,r.set)(this,t).ease=e}))}},41403:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("69722");function i(){var e,t,n=this,i=n._id,a=n.size();return new Promise(function(o,s){var l={value:s},u={value:function(){0==--a&&o()}};n.each(function(){var n=(0,r.set)(this,i),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),n.on=t}),0===a&&o()})}},49141:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n("41704"),i=n("72932");function a(e){"function"!=typeof e&&(e=(0,r.matcher)(e));for(var t=this._groups,n=t.length,a=Array(n),o=0;o<n;++o)for(var s,l=t[o],u=l.length,c=a[o]=[],d=0;d<u;++d)(s=l[d])&&e.call(s,s.__data__,d,l)&&c.push(s);return new i.Transition(a,this._parents,this._name,this._id)}},72932:function(e,t,n){"use strict";n.r(t),n.d(t,{Transition:function(){return k},newId:function(){return N}});var r=n("41704"),i=n("54617"),a=n("37296"),o=n("26234"),s=n("89564"),l=n("83100"),u=n("80418"),c=n("49141"),d=n("64235"),f=n("74262"),h=n("70413"),p=n("71876"),m=n("38055"),g=n("65050"),y=n("1549"),v=n("85050"),_=n("34481"),b=n("14497"),x=n("59397"),w=n("18407"),S=n("41403"),E=0;function k(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function N(){return++E}var C=r.selection.prototype;k.prototype=(function(e){return(0,r.selection)().transition(e)}).prototype={constructor:k,select:p.default,selectAll:m.default,selectChild:C.selectChild,selectChildren:C.selectChildren,filter:c.default,merge:d.default,selection:g.default,transition:x.default,call:C.call,nodes:C.nodes,node:C.node,size:C.size,empty:C.empty,each:C.each,on:f.default,attr:i.default,attrTween:a.default,style:y.default,styleTween:v.default,text:_.default,textTween:b.default,remove:h.default,tween:w.default,delay:o.default,duration:s.default,ease:l.default,easeVarying:u.default,end:S.default,[Symbol.iterator]:C[Symbol.iterator]}},31361:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n("69797"),i=n("73062");function a(e,t){var n;return("number"==typeof t?(0,i.interpolateNumber):t instanceof(0,r.color)?(0,i.interpolateRgb):(n=(0,r.color)(t))?(t=n,i.interpolateRgb):i.interpolateString)(e,t)}},64235:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("72932");function i(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,i=t.length,a=n.length,o=Math.min(i,a),s=Array(i),l=0;l<o;++l)for(var u,c=t[l],d=n[l],f=c.length,h=s[l]=Array(f),p=0;p<f;++p)(u=c[p]||d[p])&&(h[p]=u);for(;l<i;++l)s[l]=t[l];return new r.Transition(s,this._parents,this._name,this._id)}},74262:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("69722");function i(e,t){var n=this._id;return arguments.length<2?(0,r.get)(this.node(),n).on.on(e):this.each(function(e,t,n){var i,a,o=(t+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?r.init:r.set;return function(){var r=o(this,e),s=r.on;s!==i&&(a=(i=s).copy()).on(t,n),r.on=a}}(n,e,t))}},70413:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});function r(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))}},69722:function(e,t,n){"use strict";n.r(t),n.d(t,{ENDED:function(){return u},ENDING:function(){return l},STARTING:function(){return s},default:function(){return c},get:function(){return h},init:function(){return d},set:function(){return f}});var r=n("61149"),i=n("48946"),a=(0,r.dispatch)("start","end","cancel","interrupt"),o=[],s=2,l=5,u=6;function c(e,t,n,r,c,d){var f=e.__transition;if(f){if(n in f)return}else e.__transition={};(function(e,t,n){var r,a=e.__transition;a[t]=n,n.timer=(0,i.timer)(function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)},0,n.time);function o(l){var f,h,p,m;if(1!==n.state)return d();for(f in a)if((m=a[f]).name===n.name){if(3===m.state)return(0,i.timeout)(o);4===m.state?(m.state=u,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete a[f]):+f<t&&(m.state=u,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete a[f])}if((0,i.timeout)(function(){3===n.state&&(n.state=4,n.timer.restart(c,n.delay,n.time),c(l))}),n.state=s,n.on.call("start",e,e.__data__,n.index,n.group),n.state===s){for(f=0,n.state=3,r=Array(p=n.tween.length),h=-1;f<p;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=m);r.length=h+1}}function c(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(d),n.state=l,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);n.state===l&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){for(var r in n.state=u,n.timer.stop(),delete a[t],a)return;delete e.__transition}})(e,n,{name:t,index:r,group:c,on:a,tween:o,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function d(e,t){var n=h(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function f(e,t){var n=h(e,t);if(n.state>3)throw Error("too late; already running");return n}function h(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}},71876:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("41704"),i=n("72932"),a=n("69722");function o(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,r.selector)(e));for(var o=this._groups,s=o.length,l=Array(s),u=0;u<s;++u)for(var c,d,f=o[u],h=f.length,p=l[u]=Array(h),m=0;m<h;++m)(c=f[m])&&(d=e.call(c,c.__data__,m,f))&&("__data__"in c&&(d.__data__=c.__data__),p[m]=d,(0,a.default)(p[m],t,n,m,p,(0,a.get)(c,n)));return new i.Transition(l,this._parents,t,n)}},38055:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("41704"),i=n("72932"),a=n("69722");function o(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,r.selectorAll)(e));for(var o=this._groups,s=o.length,l=[],u=[],c=0;c<s;++c)for(var d,f=o[c],h=f.length,p=0;p<h;++p)if(d=f[p]){for(var m,g=e.call(d,d.__data__,p,f),y=(0,a.get)(d,n),v=0,_=g.length;v<_;++v)(m=g[v])&&(0,a.default)(m,t,n,v,g,y);l.push(g),u.push(d)}return new i.Transition(l,u,t,n)}},65050:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("41704").selection.prototype.constructor;function i(){return new r(this._groups,this._parents)}},1549:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n("73062"),i=n("41704"),a=n("69722"),o=n("18407"),s=n("31361");function l(e){return function(){this.style.removeProperty(e)}}function u(e,t,n){var u,c,d,f,h,p,m,g,y,v,_,b,x,w,S,E,k,N,C,M,T,A,O,I,P,$=(e+="")==="transform"?r.interpolateTransformCss:s.default;return null==t?this.styleTween(e,(u=e,c=$,function(){var e=(0,i.style)(this,u),t=(this.style.removeProperty(u),(0,i.style)(this,u));return e===t?null:e===d&&t===f?h:h=c(d=e,f=t)})).on("end.style."+e,l(e)):"function"==typeof t?this.styleTween(e,(p=e,m=$,g=(0,o.tweenValue)(this,"style."+e,t),function(){var e=(0,i.style)(this,p),t=g(this),n=t+"";return null==t&&(n=t=(this.style.removeProperty(p),(0,i.style)(this,p))),e===n?null:e===y&&n===v?_:(v=n,_=m(y=e,t))})).each((b=this._id,C="end."+(N="style."+(x=e)),function(){var e=(0,a.set)(this,b),t=e.on,n=null==e.value[N]?k||(k=l(x)):void 0;(t!==w||E!==n)&&(S=(w=t).copy()).on(C,E=n),e.on=S})):this.styleTween(e,(M=e,T=$,P=(A=t)+"",function(){var e=(0,i.style)(this,M);return e===P?null:e===O?I:I=T(O=e,A)}),n).on("end.style."+e,null)}},85050:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});function r(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,i;function a(){var a,o,s,l=t.apply(this,arguments);if(l!==i){;r=(i=l)&&(a=e,o=l,s=n,function(e){this.style.setProperty(a,o.call(this,e),s)})}return r}return a._value=t,a}(e,t,null==n?"":n))}},34481:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("18407");function i(e){var t,n;return this.tween("text","function"==typeof e?(t=(0,r.tweenValue)(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))}},14497:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});function r(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r,i=e.apply(this,arguments);if(i!==n){;t=(n=i)&&(r=i,function(e){this.textContent=r.call(this,e)})}return t}return r._value=e,r}(e))}},59397:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n("72932"),i=n("69722");function a(){for(var e=this._name,t=this._id,n=(0,r.newId)(),a=this._groups,o=a.length,s=0;s<o;++s)for(var l,u=a[s],c=u.length,d=0;d<c;++d)if(l=u[d]){var f=(0,i.get)(l,t);(0,i.default)(l,e,n,d,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.Transition(a,this._parents,e,n)}},18407:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o},tweenValue:function(){return s}});var r=n("69722");function i(e,t){var n,i;return function(){var a=(0,r.set)(this,e),o=a.tween;if(o!==n){i=n=o;for(var s=0,l=i.length;s<l;++s)if(i[s].name===t){(i=i.slice()).splice(s,1);break}}a.tween=i}}function a(e,t,n){var i,a;if("function"!=typeof n)throw Error();return function(){var o=(0,r.set)(this,e),s=o.tween;if(s!==i){a=(i=s).slice();for(var l={name:t,value:n},u=0,c=a.length;u<c;++u)if(a[u].name===t){a[u]=l;break}u===c&&a.push(l)}o.tween=a}}function o(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,s=(0,r.get)(this.node(),n).tween,l=0,u=s.length;l<u;++l)if((o=s[l]).name===e)return o.value;return null}return this.each((null==t?i:a)(n,e,t))}function s(e,t,n){var i=e._id;return e.each(function(){var e=(0,r.set)(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return(0,r.get)(e,i).value[t]}}},44318:function(e,t,n){"use strict";n.r(t),t.default=e=>()=>e},3042:function(e,t,n){"use strict";function r(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}n.r(t),n.d(t,{default:function(){return r}})},29106:function(e,t,n){"use strict";n.r(t),n.d(t,{zoom:function(){return r.default},zoomIdentity:function(){return i.identity}});var r=n("4479"),i=n("44805")},6059:function(e,t,n){"use strict";function r(e){e.stopImmediatePropagation()}function i(e){e.preventDefault(),e.stopImmediatePropagation()}n.r(t),n.d(t,{default:function(){return i},nopropagation:function(){return r}})},44805:function(e,t,n){"use strict";function r(e,t,n){this.k=e,this.x=t,this.y=n}n.r(t),n.d(t,{Transform:function(){return r},identity:function(){return i}}),r.prototype={constructor:r,scale:function(e){return 1===e?this:new r(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new r(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var i=new r(1,0,0);(function(e){for(;!e.__zoom;)if(!(e=e.parentNode))return i;return e.__zoom}).prototype=r.prototype},4479:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n("61149"),i=n("7081"),a=n("73062"),o=n("41704"),s=n("98698"),l=n("44318"),u=n("3042"),c=n("44805"),d=n("6059");function f(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function h(){var e=this;if(e instanceof SVGElement)return(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]];return[[0,0],[e.clientWidth,e.clientHeight]]}function p(){return this.__zoom||c.identity}function m(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function g(){return navigator.maxTouchPoints||"ontouchstart"in this}function y(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function v(){var e,t,n,v=f,_=h,b=y,x=m,w=g,S=[0,1/0],E=[[-1/0,-1/0],[1/0,1/0]],k=250,N=a.interpolateZoom,C=(0,r.dispatch)("start","zoom","end"),M=0,T=10;function A(e){e.property("__zoom",p).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",j).filter(w).on("touchstart.zoom",L).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function O(e,t){return(t=Math.max(S[0],Math.min(S[1],t)))===e.k?e:new c.Transform(t,e.x,e.y)}function I(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new c.Transform(e.k,r,i)}function P(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function $(e,t,n,r){e.on("start.zoom",function(){Z(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(r).end()}).tween("zoom",function(){var e=arguments,i=Z(this,e).event(r),a=_.apply(this,e),o=null==n?P(a):"function"==typeof n?n.apply(this,e):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=this.__zoom,u="function"==typeof t?t.apply(this,e):t,d=N(l.invert(o).concat(s/l.k),u.invert(o).concat(s/u.k));return function(e){if(1===e)e=u;else{var t=d(e),n=s/t[2];e=new c.Transform(n,o[0]-t[0]*n,o[1]-t[1]*n)}i.zoom(null,e)}})}function Z(e,t,n){return!n&&e.__zooming||new z(e,t)}function z(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=_.apply(e,t),this.taps=0}function R(e,...t){if(v.apply(this,arguments)){var n=Z(this,t).event(e),r=this.__zoom,i=Math.max(S[0],Math.min(S[1],r.k*Math.pow(2,x.apply(this,arguments)))),a=(0,o.pointer)(e);if(n.wheel)(n.mouse[0][0]!==a[0]||n.mouse[0][1]!==a[1])&&(n.mouse[1]=r.invert(n.mouse[0]=a)),clearTimeout(n.wheel);else{if(r.k===i)return;n.mouse=[a,r.invert(a)],(0,s.interrupt)(this),n.start()}(0,d.default)(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",b(I(O(r,i),n.mouse[0],n.mouse[1]),n.extent,E))}}function D(e,...t){if(!n&&v.apply(this,arguments)){var r=e.currentTarget,a=Z(this,t,!0).event(e),l=(0,o.select)(e.view).on("mousemove.zoom",function(e){if((0,d.default)(e),!a.moved){var t=e.clientX-c,n=e.clientY-f;a.moved=t*t+n*n>M}a.event(e).zoom("mouse",b(I(a.that.__zoom,a.mouse[0]=(0,o.pointer)(e,r),a.mouse[1]),a.extent,E))},!0).on("mouseup.zoom",function(e){l.on("mousemove.zoom mouseup.zoom",null),(0,i.dragEnable)(e.view,a.moved),(0,d.default)(e),a.event(e).end()},!0),u=(0,o.pointer)(e,r),c=e.clientX,f=e.clientY;(0,i.dragDisable)(e.view),(0,d.nopropagation)(e),a.mouse=[u,this.__zoom.invert(u)],(0,s.interrupt)(this),a.start()}}function j(e,...t){if(v.apply(this,arguments)){var n=this.__zoom,r=(0,o.pointer)(e.changedTouches?e.changedTouches[0]:e,this),i=n.invert(r),a=n.k*(e.shiftKey?.5:2),s=b(I(O(n,a),r,i),_.apply(this,t),E);(0,d.default)(e),k>0?(0,o.select)(this).transition().duration(k).call($,s,r,e):(0,o.select)(this).call(A.transform,s,r,e)}}function L(n,...r){if(v.apply(this,arguments)){var i,a,l,u,c=n.touches,f=c.length,h=Z(this,r,n.changedTouches.length===f).event(n);for((0,d.nopropagation)(n),a=0;a<f;++a)l=c[a],u=[u=(0,o.pointer)(l,this),this.__zoom.invert(u),l.identifier],h.touch0?!h.touch1&&h.touch0[2]!==u[2]&&(h.touch1=u,h.taps=0):(h.touch0=u,i=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(h.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),(0,s.interrupt)(this),h.start())}}function B(e,...t){if(this.__zooming){var n,r,i,a,s=Z(this,t).event(e),l=e.changedTouches,u=l.length;for((0,d.default)(e),n=0;n<u;++n)r=l[n],i=(0,o.pointer)(r,this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var c=s.touch0[0],f=s.touch0[1],h=s.touch1[0],p=s.touch1[1],m=(m=h[0]-c[0])*m+(m=h[1]-c[1])*m,g=(g=p[0]-f[0])*g+(g=p[1]-f[1])*g;r=O(r,Math.sqrt(m/g)),i=[(c[0]+h[0])/2,(c[1]+h[1])/2],a=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",b(I(r,i,a),s.extent,E))}}function V(e,...r){if(this.__zooming){var i,a,s=Z(this,r).event(e),l=e.changedTouches,u=l.length;for((0,d.nopropagation)(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<u;++i)a=l[i],s.touch0&&s.touch0[2]===a.identifier?delete s.touch0:s.touch1&&s.touch1[2]===a.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(a=(0,o.pointer)(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<T)){var c=(0,o.select)(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return A.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",p),e!==i?$(e,t,n,r):i.interrupt().each(function(){Z(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},A.scaleBy=function(e,t,n,r){A.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n,r)},A.scaleTo=function(e,t,n,r){A.transform(e,function(){var e=_.apply(this,arguments),r=this.__zoom,i=null==n?P(e):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(i),o="function"==typeof t?t.apply(this,arguments):t;return b(I(O(r,o),i,a),e,E)},n,r)},A.translateBy=function(e,t,n,r){A.transform(e,function(){return b(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),_.apply(this,arguments),E)},null,r)},A.translateTo=function(e,t,n,r,i){A.transform(e,function(){var e=_.apply(this,arguments),i=this.__zoom,a=null==r?P(e):"function"==typeof r?r.apply(this,arguments):r;return b(c.identity.translate(a[0],a[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,E)},r,i)},z.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=(0,o.select)(this.that).datum();C.call(e,this.that,new u.default(e,{sourceEvent:this.sourceEvent,target:A,type:e,transform:this.that.__zoom,dispatch:C}),t)}},A.wheelDelta=function(e){return arguments.length?(x="function"==typeof e?e:(0,l.default)(+e),A):x},A.filter=function(e){return arguments.length?(v="function"==typeof e?e:(0,l.default)(!!e),A):v},A.touchable=function(e){return arguments.length?(w="function"==typeof e?e:(0,l.default)(!!e),A):w},A.extent=function(e){return arguments.length?(_="function"==typeof e?e:(0,l.default)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),A):_},A.scaleExtent=function(e){return arguments.length?(S[0]=+e[0],S[1]=+e[1],A):[S[0],S[1]]},A.translateExtent=function(e){return arguments.length?(E[0][0]=+e[0][0],E[1][0]=+e[1][0],E[0][1]=+e[0][1],E[1][1]=+e[1][1],A):[[E[0][0],E[0][1]],[E[1][0],E[1][1]]]},A.constrain=function(e){return arguments.length?(b=e,A):b},A.duration=function(e){return arguments.length?(k=+e,A):k},A.interpolate=function(e){return arguments.length?(N=e,A):N},A.on=function(){var e=C.on.apply(C,arguments);return e===C?A:e},A.clickDistance=function(e){return arguments.length?(M=(e=+e)*e,A):Math.sqrt(M)},A.tapDistance=function(e){return arguments.length?(T=+e,A):T},A}},18890:function(e,t,n){"use strict";n.r(t);var r=n("87652");n.es(r,t);var i=n("53139");n.es(i,t);var a=n("67940");n.es(a,t);var o=n("22978");n.es(o,t)},49435:function(e,t,n){"use strict";let r;n.r(t),n.d(t,{z:function(){return e3}}),function(e){e.assertEqual=e=>e;e.assertIs=function(e){};e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},e.getValidEnumValues=t=>{let n=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(let e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(let n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(e0||(e0={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(e1||(e1={}));let i=e0.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),a=e=>{switch(typeof e){case"undefined":return i.undefined;case"string":return i.string;case"number":return isNaN(e)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":if(Array.isArray(e))return i.array;if(null===e)return i.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return i.promise;if("undefined"!=typeof Map&&e instanceof Map)return i.map;if("undefined"!=typeof Set&&e instanceof Set)return i.set;if("undefined"!=typeof Date&&e instanceof Date)return i.date;return i.object;default:return i.unknown}},o=e0.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class s extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,e0.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},n=[];for(let r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}s.create=e=>new s(e);let l=(e,t)=>{let n;switch(e.code){case o.invalid_type:n=e.received===i.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case o.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,e0.jsonStringifyReplacer)}`;break;case o.unrecognized_keys:n=`Unrecognized key(s) in object: ${e0.joinValues(e.keys,", ")}`;break;case o.invalid_union:n="Invalid input";break;case o.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${e0.joinValues(e.options)}`;break;case o.invalid_enum_value:n=`Invalid enum value. Expected ${e0.joinValues(e.options)}, received '${e.received}'`;break;case o.invalid_arguments:n="Invalid function arguments";break;case o.invalid_return_type:n="Invalid function return type";break;case o.invalid_date:n="Invalid date";break;case o.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:e0.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case o.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case o.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case o.custom:n="Invalid input";break;case o.invalid_intersection_types:n="Intersection results could not be merged";break;case o.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case o.not_finite:n="Number must be finite";break;default:n=t.defaultError,e0.assertNever(e)}return{message:n}},u=l;function c(){return u}let d=e=>{let{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a},s="";for(let e of r.filter(e=>!!e).slice().reverse())s=e(o,{data:t,defaultError:s}).message;return{...i,path:a,message:i.message||s}};function f(e,t){let n=d({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,c(),l].filter(e=>!!e)});e.common.issues.push(n)}class h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let r of t){if("aborted"===r.status)return p;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let e of t)n.push({key:await e.key,value:await e.value});return h.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let r of t){let{key:t,value:i}=r;if("aborted"===t.status||"aborted"===i.status)return p;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}}let p=Object.freeze({status:"aborted"}),m=e=>({status:"dirty",value:e}),g=e=>({status:"valid",value:e}),y=e=>"aborted"===e.status,v=e=>"dirty"===e.status,_=e=>"valid"===e.status,b=e=>"undefined"!=typeof Promise&&e instanceof Promise;(function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message})(e2||(e2={}));class x{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return!this._cachedPath.length&&(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let w=(e,t)=>{if(_(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new s(e.common.issues);return this._error=t,this._error}}};function S(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError},description:i}}class E{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return a(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new h,ctx:{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(b(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let r={common:{issues:[],async:(n=null==t?void 0:t.async)!==null&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},i=this._parseSync({data:e,path:r.path,parent:r});return w(r,i)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},r=this._parse({data:e,path:n.path,parent:n});return w(n,await (b(r)?r:Promise.resolve(r)))}refine(e,t){let n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let i=e(t),a=()=>r.addIssue({code:o.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new el({schema:this,typeName:e4.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return eu.create(this,this._def)}nullable(){return ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return U.create(this,this._def)}promise(){return es.create(this,this._def)}or(e){return Y.create([this,e],this._def)}and(e){return W.create(this,e,this._def)}transform(e){return new el({...S(this._def),schema:this,typeName:e4.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ed({...S(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:e4.ZodDefault})}brand(){return new em({typeName:e4.ZodBranded,type:this,...S(this._def)})}catch(e){return new ef({...S(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:e4.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eg.create(this,e)}readonly(){return ey.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let k=/^c[^\s-]{8,}$/i,N=/^[a-z][a-z0-9]*$/,C=/^[0-9A-HJKMNP-TV-Z]{26}$/,M=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,T=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,O=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,I=e=>{if(e.precision)return e.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`);if(0===e.precision)return e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$");return e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")};class P extends E{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==i.string){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.string,received:t.parsedType}),p}let n=new h;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(f(t=this._getOrReturnCtx(e,t),{code:o.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if("max"===i.kind)e.data.length>i.value&&(f(t=this._getOrReturnCtx(e,t),{code:o.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if("length"===i.kind){let r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(t=this._getOrReturnCtx(e,t),r?f(t,{code:o.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&f(t,{code:o.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if("email"===i.kind)!T.test(e.data)&&(f(t=this._getOrReturnCtx(e,t),{validation:"email",code:o.invalid_string,message:i.message}),n.dirty());else if("emoji"===i.kind)!r&&(r=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),!r.test(e.data)&&(f(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:o.invalid_string,message:i.message}),n.dirty());else if("uuid"===i.kind)!M.test(e.data)&&(f(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:o.invalid_string,message:i.message}),n.dirty());else if("cuid"===i.kind)!k.test(e.data)&&(f(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:o.invalid_string,message:i.message}),n.dirty());else if("cuid2"===i.kind)!N.test(e.data)&&(f(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:o.invalid_string,message:i.message}),n.dirty());else if("ulid"===i.kind)!C.test(e.data)&&(f(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:o.invalid_string,message:i.message}),n.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){f(t=this._getOrReturnCtx(e,t),{validation:"url",code:o.invalid_string,message:i.message}),n.dirty()}else if("regex"===i.kind)i.regex.lastIndex=0,!i.regex.test(e.data)&&(f(t=this._getOrReturnCtx(e,t),{validation:"regex",code:o.invalid_string,message:i.message}),n.dirty());else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)!e.data.includes(i.value,i.position)&&(f(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)!e.data.startsWith(i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty());else if("endsWith"===i.kind)!e.data.endsWith(i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty());else if("datetime"===i.kind)!I(i).test(e.data)&&(f(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:"datetime",message:i.message}),n.dirty());else if("ip"===i.kind){var a,s;if(a=e.data,s=i.version,!(("v4"===s||!s)&&A.test(a)||("v6"===s||!s)&&O.test(a)))f(t=this._getOrReturnCtx(e,t),{validation:"ip",code:o.invalid_string,message:i.message}),n.dirty()}else e0.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:o.invalid_string,...e2.errToObj(n)})}_addCheck(e){return new P({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...e2.errToObj(e)})}url(e){return this._addCheck({kind:"url",...e2.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...e2.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...e2.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...e2.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...e2.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...e2.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...e2.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:(t=null==e?void 0:e.offset)!==null&&void 0!==t&&t,...e2.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...e2.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...e2.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...e2.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...e2.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...e2.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...e2.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...e2.errToObj(t)})}nonempty(e){return this.min(1,e2.errToObj(e))}trim(){return new P({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new P({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new P({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}P.create=e=>{var t;return new P({checks:[],typeName:e4.ZodString,coerce:(t=null==e?void 0:e.coerce)!==null&&void 0!==t&&t,...S(e)})};class $ extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==i.number){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.number,received:t.parsedType}),p}let n=new h;for(let r of this._def.checks)"int"===r.kind?!e0.isInteger(e.data)&&(f(t=this._getOrReturnCtx(e,t),{code:o.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:o.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:o.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==function(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(e.toFixed(i).replace(".",""));return a%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:o.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?!Number.isFinite(e.data)&&(f(t=this._getOrReturnCtx(e,t),{code:o.not_finite,message:r.message}),n.dirty()):e0.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,e2.toString(t))}gt(e,t){return this.setLimit("min",e,!1,e2.toString(t))}lte(e,t){return this.setLimit("max",e,!0,e2.toString(t))}lt(e,t){return this.setLimit("max",e,!1,e2.toString(t))}setLimit(e,t,n,r){return new $({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:e2.toString(r)}]})}_addCheck(e){return new $({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:e2.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:e2.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:e2.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:e2.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:e2.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:e2.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:e2.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:e2.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:e2.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&e0.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}$.create=e=>new $({checks:[],typeName:e4.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...S(e)});class Z extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==i.bigint){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.bigint,received:t.parsedType}),p}let n=new h;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:o.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:o.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(f(t=this._getOrReturnCtx(e,t),{code:o.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):e0.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,e2.toString(t))}gt(e,t){return this.setLimit("min",e,!1,e2.toString(t))}lte(e,t){return this.setLimit("max",e,!0,e2.toString(t))}lt(e,t){return this.setLimit("max",e,!1,e2.toString(t))}setLimit(e,t,n,r){return new Z({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:e2.toString(r)}]})}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:e2.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:e2.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:e2.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:e2.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:e2.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Z.create=e=>{var t;return new Z({checks:[],typeName:e4.ZodBigInt,coerce:(t=null==e?void 0:e.coerce)!==null&&void 0!==t&&t,...S(e)})};class z extends E{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==i.boolean){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.boolean,received:t.parsedType}),p}return g(e.data)}}z.create=e=>new z({typeName:e4.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...S(e)});class R extends E{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==i.date){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.date,received:t.parsedType}),p}if(isNaN(e.data.getTime()))return f(this._getOrReturnCtx(e),{code:o.invalid_date}),p;let n=new h;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(f(t=this._getOrReturnCtx(e,t),{code:o.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(f(t=this._getOrReturnCtx(e,t),{code:o.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):e0.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new R({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:e2.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:e2.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}R.create=e=>new R({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:e4.ZodDate,...S(e)});class D extends E{_parse(e){if(this._getType(e)!==i.symbol){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.symbol,received:t.parsedType}),p}return g(e.data)}}D.create=e=>new D({typeName:e4.ZodSymbol,...S(e)});class j extends E{_parse(e){if(this._getType(e)!==i.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.undefined,received:t.parsedType}),p}return g(e.data)}}j.create=e=>new j({typeName:e4.ZodUndefined,...S(e)});class L extends E{_parse(e){if(this._getType(e)!==i.null){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.null,received:t.parsedType}),p}return g(e.data)}}L.create=e=>new L({typeName:e4.ZodNull,...S(e)});class B extends E{constructor(){super(...arguments),this._any=!0}_parse(e){return g(e.data)}}B.create=e=>new B({typeName:e4.ZodAny,...S(e)});class V extends E{constructor(){super(...arguments),this._unknown=!0}_parse(e){return g(e.data)}}V.create=e=>new V({typeName:e4.ZodUnknown,...S(e)});class H extends E{_parse(e){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.never,received:t.parsedType}),p}}H.create=e=>new H({typeName:e4.ZodNever,...S(e)});class F extends E{_parse(e){if(this._getType(e)!==i.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.void,received:t.parsedType}),p}return g(e.data)}}F.create=e=>new F({typeName:e4.ZodVoid,...S(e)});class U extends E{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==i.array)return f(t,{code:o.invalid_type,expected:i.array,received:t.parsedType}),p;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(f(t,{code:e?o.too_big:o.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(f(t,{code:o.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(f(t,{code:o.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new x(t,e,t.path,n)))).then(e=>h.mergeArray(n,e));let a=[...t.data].map((e,n)=>r.type._parseSync(new x(t,e,t.path,n)));return h.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new U({...this._def,minLength:{value:e,message:e2.toString(t)}})}max(e,t){return new U({...this._def,maxLength:{value:e,message:e2.toString(t)}})}length(e,t){return new U({...this._def,exactLength:{value:e,message:e2.toString(t)}})}nonempty(e){return this.min(1,e)}}U.create=(e,t)=>new U({type:e,minLength:null,maxLength:null,exactLength:null,typeName:e4.ZodArray,...S(t)});class K extends E{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=e0.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==i.object){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.object,received:t.parsedType}),p}let{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof H&&"strip"===this._def.unknownKeys))for(let e in n.data)!a.includes(e)&&s.push(e);let l=[];for(let e of a){let t=r[e],i=n.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new x(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof H){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)l.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&(f(n,{code:o.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let r=n.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new x(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e}).then(e=>h.mergeObjectSync(t,e)):h.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return e2.errToObj,new K({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,a,o;let s=(a=(i=(r=this._def).errorMap)===null||void 0===i?void 0:i.call(r,t,n).message)!==null&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:(o=e2.errToObj(e).message)!==null&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new K({...this._def,unknownKeys:"strip"})}passthrough(){return new K({...this._def,unknownKeys:"passthrough"})}extend(e){return new K({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new K({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:e4.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new K({...this._def,catchall:e})}pick(e){let t={};return e0.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new K({...this._def,shape:()=>t})}omit(e){let t={};return e0.objectKeys(this.shape).forEach(n=>{!e[n]&&(t[n]=this.shape[n])}),new K({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof K){let n={};for(let r in t.shape){let i=t.shape[r];n[r]=eu.create(e(i))}return new K({...t._def,shape:()=>n})}if(t instanceof U)return new U({...t._def,type:e(t.element)});if(t instanceof eu)return eu.create(e(t.unwrap()));else if(t instanceof ec)return ec.create(e(t.unwrap()));else if(t instanceof G)return G.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};return e0.objectKeys(this.shape).forEach(n=>{let r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}),new K({...this._def,shape:()=>t})}required(e){let t={};return e0.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof eu;)e=e._def.innerType;t[n]=e}}),new K({...this._def,shape:()=>t})}keyof(){return ei(e0.objectKeys(this.shape))}}K.create=(e,t)=>new K({shape:()=>e,unknownKeys:"strip",catchall:H.create(),typeName:e4.ZodObject,...S(t)}),K.strictCreate=(e,t)=>new K({shape:()=>e,unknownKeys:"strict",catchall:H.create(),typeName:e4.ZodObject,...S(t)}),K.lazycreate=(e,t)=>new K({shape:e,unknownKeys:"strip",catchall:H.create(),typeName:e4.ZodObject,...S(t)});class Y extends E{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new s(e.ctx.common.issues));return f(t,{code:o.invalid_union,unionErrors:n}),p});{let e;let r=[];for(let i of n){let n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"===a.status&&!e&&(e={result:a,ctx:n});n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=r.map(e=>new s(e));return f(t,{code:o.invalid_union,unionErrors:i}),p}}get options(){return this._def.options}}Y.create=(e,t)=>new Y({options:e,typeName:e4.ZodUnion,...S(t)});let X=e=>{if(e instanceof en)return X(e.schema);if(e instanceof el)return X(e.innerType());if(e instanceof er)return[e.value];else if(e instanceof ea)return e.options;else if(e instanceof eo)return Object.keys(e.enum);else if(e instanceof ed)return X(e._def.innerType);else if(e instanceof j)return[void 0];else if(e instanceof L)return[null];else return null};class q extends E{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.object)return f(t,{code:o.invalid_type,expected:i.object,received:t.parsedType}),p;let n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:o.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),p)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let r=new Map;for(let n of t){let t=X(n.shape[e]);if(!t)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(r.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new q({typeName:e4.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...S(n)})}}class W extends E{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(y(e)||y(r))return p;let s=function e(t,n){let r=a(t),o=a(n);if(t===n)return{valid:!0,data:t};if(r===i.object&&o===i.object){let r=e0.objectKeys(n),i=e0.objectKeys(t).filter(e=>-1!==r.indexOf(e)),a={...t,...n};for(let r of i){let i=e(t[r],n[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===i.array&&o===i.array){if(t.length!==n.length)return{valid:!1};let r=[];for(let i=0;i<t.length;i++){let a=t[i],o=e(a,n[i]);if(!o.valid)return{valid:!1};r.push(o.data)}return{valid:!0,data:r}}else if(r===i.date&&o===i.date&&+t==+n)return{valid:!0,data:t};else return{valid:!1}}(e.value,r.value);return s.valid?((v(e)||v(r))&&t.dirty(),{status:t.value,value:s.data}):(f(n,{code:o.invalid_intersection_types}),p)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}W.create=(e,t,n)=>new W({left:e,right:t,typeName:e4.ZodIntersection,...S(n)});class G extends E{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.array)return f(n,{code:o.invalid_type,expected:i.array,received:n.parsedType}),p;if(n.data.length<this._def.items.length)return f(n,{code:o.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),p;!this._def.rest&&n.data.length>this._def.items.length&&(f(n,{code:o.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...n.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new x(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>h.mergeArray(t,e)):h.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new G({...this._def,rest:e})}}G.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new G({items:e,typeName:e4.ZodTuple,rest:null,...S(t)})};class J extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.object)return f(n,{code:o.invalid_type,expected:i.object,received:n.parsedType}),p;let r=[],a=this._def.keyType,s=this._def.valueType;for(let e in n.data)r.push({key:a._parse(new x(n,e,n.path,e)),value:s._parse(new x(n,n.data[e],n.path,e))});return n.common.async?h.mergeObjectAsync(t,r):h.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof E?new J({keyType:e,valueType:t,typeName:e4.ZodRecord,...S(n)}):new J({keyType:P.create(),valueType:e,typeName:e4.ZodRecord,...S(t)})}}class Q extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.map)return f(n,{code:o.invalid_type,expected:i.map,received:n.parsedType}),p;let r=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([e,t],i)=>({key:r._parse(new x(n,e,n.path,[i,"key"])),value:a._parse(new x(n,t,n.path,[i,"value"]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of s){let r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return p;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let n of s){let r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return p;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}Q.create=(e,t,n)=>new Q({valueType:t,keyType:e,typeName:e4.ZodMap,...S(n)});class ee extends E{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.set)return f(n,{code:o.invalid_type,expected:i.set,received:n.parsedType}),p;let r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(f(n,{code:o.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(f(n,{code:o.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let a=this._def.valueType;function s(e){let n=new Set;for(let r of e){if("aborted"===r.status)return p;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}let l=[...n.data.values()].map((e,t)=>a._parse(new x(n,e,n.path,t)));return n.common.async?Promise.all(l).then(e=>s(e)):s(l)}min(e,t){return new ee({...this._def,minSize:{value:e,message:e2.toString(t)}})}max(e,t){return new ee({...this._def,maxSize:{value:e,message:e2.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ee.create=(e,t)=>new ee({valueType:e,minSize:null,maxSize:null,typeName:e4.ZodSet,...S(t)});class et extends E{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.function)return f(t,{code:o.invalid_type,expected:i.function,received:t.parsedType}),p;function n(e,n){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,c(),l].filter(e=>!!e),issueData:{code:o.invalid_arguments,argumentsError:n}})}function r(e,n){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,c(),l].filter(e=>!!e),issueData:{code:o.invalid_return_type,returnTypeError:n}})}let a={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof es){let e=this;return g(async function(...t){let i=new s([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw i.addIssue(n(t,e)),i}),l=await Reflect.apply(u,this,o);return await e._def.returns._def.type.parseAsync(l,a).catch(e=>{throw i.addIssue(r(l,e)),i})})}{let e=this;return g(function(...t){let i=e._def.args.safeParse(t,a);if(!i.success)throw new s([n(t,i.error)]);let o=Reflect.apply(u,this,i.data),l=e._def.returns.safeParse(o,a);if(!l.success)throw new s([r(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new et({...this._def,args:G.create(e).rest(V.create())})}returns(e){return new et({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new et({args:e||G.create([]).rest(V.create()),returns:t||V.create(),typeName:e4.ZodFunction,...S(n)})}}class en extends E{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}en.create=(e,t)=>new en({getter:e,typeName:e4.ZodLazy,...S(t)});class er extends E{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:o.invalid_literal,expected:this._def.value}),p}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ei(e,t){return new ea({values:e,typeName:e4.ZodEnum,...S(t)})}er.create=(e,t)=>new er({value:e,typeName:e4.ZodLiteral,...S(t)});class ea extends E{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{expected:e0.joinValues(n),received:t.parsedType,code:o.invalid_type}),p}if(-1===this._def.values.indexOf(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{received:t.data,code:o.invalid_enum_value,options:n}),p}return g(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return ea.create(e)}exclude(e){return ea.create(this.options.filter(t=>!e.includes(t)))}}ea.create=ei;class eo extends E{_parse(e){let t=e0.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==i.string&&n.parsedType!==i.number){let e=e0.objectValues(t);return f(n,{expected:e0.joinValues(e),received:n.parsedType,code:o.invalid_type}),p}if(-1===t.indexOf(e.data)){let e=e0.objectValues(t);return f(n,{received:n.data,code:o.invalid_enum_value,options:e}),p}return g(e.data)}get enum(){return this._def.values}}eo.create=(e,t)=>new eo({values:e,typeName:e4.ZodNativeEnum,...S(t)});class es extends E{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==i.promise&&!1===t.common.async?(f(t,{code:o.invalid_type,expected:i.promise,received:t.parsedType}),p):g((t.parsedType===i.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}es.create=(e,t)=>new es({type:e,typeName:e4.ZodPromise,...S(t)});class el extends E{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===e4.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{f(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){let e=r.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n})):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?p:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))));{let r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?p:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>_(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!_(e))return e;let a=r.transform(e.value,i);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}}e0.assertNever(r)}}el.create=(e,t,n)=>new el({schema:e,typeName:e4.ZodEffects,effect:t,...S(n)}),el.createWithPreprocess=(e,t,n)=>new el({schema:t,effect:{type:"preprocess",transform:e},typeName:e4.ZodEffects,...S(n)});class eu extends E{_parse(e){return this._getType(e)===i.undefined?g(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eu.create=(e,t)=>new eu({innerType:e,typeName:e4.ZodOptional,...S(t)});class ec extends E{_parse(e){return this._getType(e)===i.null?g(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ec.create=(e,t)=>new ec({innerType:e,typeName:e4.ZodNullable,...S(t)});class ed extends E{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===i.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ed.create=(e,t)=>new ed({innerType:e,typeName:e4.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...S(t)});class ef extends E{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return b(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new s(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new s(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ef.create=(e,t)=>new ef({innerType:e,typeName:e4.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...S(t)});class eh extends E{_parse(e){if(this._getType(e)!==i.nan){let t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:i.nan,received:t.parsedType}),p}return{status:"valid",value:e.data}}}eh.create=e=>new eh({typeName:e4.ZodNaN,...S(e)});let ep=Symbol("zod_brand");class em extends E{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class eg extends E{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?p:"dirty"===e.status?(t.dirty(),m(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?p:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new eg({in:e,out:t,typeName:e4.ZodPipeline})}}class ey extends E{_parse(e){let t=this._def.innerType._parse(e);return _(t)&&(t.value=Object.freeze(t.value)),t}}ey.create=(e,t)=>new ey({innerType:e,typeName:e4.ZodReadonly,...S(t)});let ev=(e,t={},n)=>e?B.create().superRefine((r,i)=>{var a,o;if(!e(r)){let e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,s=(o=(a=e.fatal)!==null&&void 0!==a?a:n)===null||void 0===o||o;i.addIssue({code:"custom",..."string"==typeof e?{message:e}:e,fatal:s})}}):B.create(),e_={object:K.lazycreate};(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(e4||(e4={}));let eb=P.create,ex=$.create,ew=eh.create,eS=Z.create,eE=z.create,ek=R.create,eN=D.create,eC=j.create,eM=L.create,eT=B.create,eA=V.create,eO=H.create,eI=F.create,eP=U.create,e$=K.create,eZ=K.strictCreate,ez=Y.create,eR=q.create,eD=W.create,ej=G.create,eL=J.create,eB=Q.create,eV=ee.create,eH=et.create,eF=en.create,eU=er.create,eK=ea.create,eY=eo.create,eX=es.create,eq=el.create,eW=eu.create,eG=ec.create,eJ=el.createWithPreprocess,eQ=eg.create;var e0,e1,e2,e4,e3=Object.freeze({__proto__:null,defaultErrorMap:l,setErrorMap:function(e){u=e},getErrorMap:c,makeIssue:d,EMPTY_PATH:[],addIssueToContext:f,ParseStatus:h,INVALID:p,DIRTY:m,OK:g,isAborted:y,isDirty:v,isValid:_,isAsync:b,get util(){return e0},get objectUtil(){return e1},ZodParsedType:i,getParsedType:a,ZodType:E,ZodString:P,ZodNumber:$,ZodBigInt:Z,ZodBoolean:z,ZodDate:R,ZodSymbol:D,ZodUndefined:j,ZodNull:L,ZodAny:B,ZodUnknown:V,ZodNever:H,ZodVoid:F,ZodArray:U,ZodObject:K,ZodUnion:Y,ZodDiscriminatedUnion:q,ZodIntersection:W,ZodTuple:G,ZodRecord:J,ZodMap:Q,ZodSet:ee,ZodFunction:et,ZodLazy:en,ZodLiteral:er,ZodEnum:ea,ZodNativeEnum:eo,ZodPromise:es,ZodEffects:el,ZodTransformer:el,ZodOptional:eu,ZodNullable:ec,ZodDefault:ed,ZodCatch:ef,ZodNaN:eh,BRAND:ep,ZodBranded:em,ZodPipeline:eg,ZodReadonly:ey,custom:ev,Schema:E,ZodSchema:E,late:e_,get ZodFirstPartyTypeKind(){return e4},coerce:{string:e=>P.create({...e,coerce:!0}),number:e=>$.create({...e,coerce:!0}),boolean:e=>z.create({...e,coerce:!0}),bigint:e=>Z.create({...e,coerce:!0}),date:e=>R.create({...e,coerce:!0})},any:eT,array:eP,bigint:eS,boolean:eE,date:ek,discriminatedUnion:eR,effect:eq,enum:eK,function:eH,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>ev(t=>t instanceof e,t),intersection:eD,lazy:eF,literal:eU,map:eB,nan:ew,nativeEnum:eY,never:eO,null:eM,nullable:eG,number:ex,object:e$,oboolean:()=>eE().optional(),onumber:()=>ex().optional(),optional:eW,ostring:()=>eb().optional(),pipeline:eQ,preprocess:eJ,promise:eX,record:eL,set:eV,strictObject:eZ,string:eb,symbol:eN,transformer:eq,tuple:ej,undefined:eC,union:ez,unknown:eA,void:eI,NEVER:p,ZodIssueCode:o,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:s})},51263:function(e,t,n){"use strict";function r(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}n.r(t),n.d(t,{shallow:function(){return r}})},28502:function(e,t,n){"use strict";n.r(t),n.d(t,{createWithEqualityFn:function(){return d},useStoreWithEqualityFn:function(){return u}});var r=n("2363"),i=n("4752"),a=n("74214");let{useDebugValue:o}=r,{useSyncExternalStoreWithSelector:s}=i,l=e=>e;function u(e,t=l,n){let r=s(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return o(r),r}let c=(e,t)=>{let n=(0,a.createStore)(e),r=(e,r=t)=>u(n,e,r);return Object.assign(r,n),r},d=(e,t)=>e?c(e,t):c},74214:function(e,t,n){"use strict";n.r(t),n.d(t,{createStore:function(){return i}});let r=e=>{let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{void 0!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},o=t=e(r,i,a);return a},i=e=>e?r(e):r}}]);